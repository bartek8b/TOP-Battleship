/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/engine/gameboard.js"
/*!*********************************!*\
  !*** ./src/engine/gameboard.js ***!
  \*********************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Gameboard: () => (/* binding */ Gameboard)\n/* harmony export */ });\n/* harmony import */ var _ship_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ship.js */ \"./src/engine/ship.js\");\n\n\nclass Gameboard {\n  constructor() {\n    this.reset();\n  }\n\n  // Reset | Init\n  reset() {\n    this.grid = Array.from({ length: 10 }, () => Array(10).fill(null));\n\n    this.shipsAvailable = {\n      // Length of ship: amount of ships in fleet\n      4: 1,\n      3: 2,\n      2: 3,\n      1: 4,\n    };\n\n    // List of ships placed on this board, used by allShipsSunk()\n    this.fleet = [];\n\n    // Ship positions and sunk cells for UI highlighting\n    this.shipPositions = new Map(); // ship -> array<[row,col]>\n    this.sunkCells = new Set(); // \"row,col\"\n  }\n\n  // Helper to check if given cell is empty or nonexistent (out of bounds)\n  isEmptyOrNull(row, col) {\n    if (row < 0 || row > 9 || col < 0 || col > 9) return true; // out of bounds = OK, ship can be placed on bound\n    return this.grid[row][col] === null;\n  }\n\n  // Helper to check if position is taken by other ship or if any neighbour cell is taken by other ship\n  canPlaceShip(ship, row, col) {\n    for (let i = 0; i < ship.length; i++) {\n      // Segment position\n      let r = ship.vertical ? row + i : row;\n      let c = ship.vertical ? col : col + i;\n\n      // Check cell and neighbours\n      // dr = delta row, dc = delta cell\n      for (let dr = -1; dr <= 1; dr++) {\n        for (let dc = -1; dc <= 1; dc++) {\n          if (!this.isEmptyOrNull(r + dr, c + dc)) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  placeShip(ship, row, col) {\n    // Check if player went out of ships of certain type\n    if (\n      !this.shipsAvailable[ship.length] ||\n      this.shipsAvailable[ship.length] === 0\n    )\n      throw new Error(\n        `All the ships with length of ${ship.length} are already palced`,\n      );\n\n    // Check if provided arguments are in bounds\n    if (row < 0 || row > 9) throw new Error('The row index is out of bounds');\n\n    if (col < 0 || col > 9)\n      throw new Error('The column index is out of bounds');\n\n    const coords = [];\n\n    // Check if horizontal ship isn't out of bounds / overlap other ship / touch other ship\n    if (ship.vertical === false) {\n      if (col + ship.length - 1 <= 9) {\n        if (!this.canPlaceShip(ship, row, col)) {\n          throw new Error('Ships cannot overlap or touch each other');\n        }\n        for (let i = 0; i < ship.length; i++) {\n          this.grid[row][col + i] = ship;\n          coords.push([row, col + i]);\n        }\n      } else {\n        throw new Error('Cannot place ship out of bounds');\n      }\n    }\n\n    // Check if vertical ship isn't out of bounds / overlap other ship / touch other ship\n    if (ship.vertical === true) {\n      if (row + ship.length - 1 <= 9) {\n        if (!this.canPlaceShip(ship, row, col)) {\n          throw new Error('Ships cannot overlap or touch each other');\n        }\n        for (let i = 0; i < ship.length; i++) {\n          this.grid[row + i][col] = ship;\n          coords.push([row + i, col]);\n        }\n      } else {\n        throw new Error('Cannot place ship out of bounds');\n      }\n    }\n\n    // Decrement amount of available ships of certain type\n    this.shipsAvailable[ship.length]--;\n\n    // Push ship into fleet array\n    this.fleet.push(ship);\n\n    // Store ship coordinates for later highlighting\n    this.shipPositions.set(ship, coords);\n  }\n\n  receiveAttack(row, col) {\n    if (row < 0 || row > 9 || col < 0 || col > 9)\n      throw new Error('Cannot shot out of bounds');\n\n    if (\n      this.grid[row][col] === 'hit' ||\n      this.grid[row][col] === 'miss' ||\n      this.grid[row][col] === 'sunk'\n    )\n      throw new Error('Cannot shot same cell twice');\n\n    if (this.grid[row][col] instanceof _ship_js__WEBPACK_IMPORTED_MODULE_0__.Ship) {\n      const ship = this.grid[row][col];\n      ship.hit();\n      this.grid[row][col] = 'hit';\n\n      const sunk = ship.isSunk();\n      if (sunk) {\n        const positions = this.shipPositions.get(ship) || [];\n        positions.forEach(([r, c]) => {\n          this.grid[r][c] = 'sunk'; // oznacz całość w grid\n          this.sunkCells.add(`${r},${c}`); // i zapamiętaj do renderu\n        });\n      }\n\n      return sunk ? { result: 'sunk', ship } : { result: 'hit', ship };\n    } else {\n      this.grid[row][col] = 'miss';\n      return { result: 'miss' };\n    }\n  }\n\n  allShipsSunk() {\n    return this.fleet.length > 0 && this.fleet.every((ship) => ship.isSunk());\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW5naW5lL2dhbWVib2FyZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpQzs7QUFFMUI7QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QixZQUFZOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DO0FBQ3BDLGdDQUFnQztBQUNoQzs7QUFFQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQywwQkFBMEIsU0FBUztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGFBQWE7QUFDckQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVDQUF1QywwQ0FBSTtBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFLElBQUk7QUFDM0MsU0FBUztBQUNUOztBQUVBLHNCQUFzQix1QkFBdUIsSUFBSTtBQUNqRCxNQUFNO0FBQ047QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZW5naW5lL2dhbWVib2FyZC5qcz83MDYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNoaXAgfSBmcm9tICcuL3NoaXAuanMnO1xuXG5leHBvcnQgY2xhc3MgR2FtZWJvYXJkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgLy8gUmVzZXQgfCBJbml0XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuZ3JpZCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sICgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcblxuICAgIHRoaXMuc2hpcHNBdmFpbGFibGUgPSB7XG4gICAgICAvLyBMZW5ndGggb2Ygc2hpcDogYW1vdW50IG9mIHNoaXBzIGluIGZsZWV0XG4gICAgICA0OiAxLFxuICAgICAgMzogMixcbiAgICAgIDI6IDMsXG4gICAgICAxOiA0LFxuICAgIH07XG5cbiAgICAvLyBMaXN0IG9mIHNoaXBzIHBsYWNlZCBvbiB0aGlzIGJvYXJkLCB1c2VkIGJ5IGFsbFNoaXBzU3VuaygpXG4gICAgdGhpcy5mbGVldCA9IFtdO1xuXG4gICAgLy8gU2hpcCBwb3NpdGlvbnMgYW5kIHN1bmsgY2VsbHMgZm9yIFVJIGhpZ2hsaWdodGluZ1xuICAgIHRoaXMuc2hpcFBvc2l0aW9ucyA9IG5ldyBNYXAoKTsgLy8gc2hpcCAtPiBhcnJheTxbcm93LGNvbF0+XG4gICAgdGhpcy5zdW5rQ2VsbHMgPSBuZXcgU2V0KCk7IC8vIFwicm93LGNvbFwiXG4gIH1cblxuICAvLyBIZWxwZXIgdG8gY2hlY2sgaWYgZ2l2ZW4gY2VsbCBpcyBlbXB0eSBvciBub25leGlzdGVudCAob3V0IG9mIGJvdW5kcylcbiAgaXNFbXB0eU9yTnVsbChyb3csIGNvbCkge1xuICAgIGlmIChyb3cgPCAwIHx8IHJvdyA+IDkgfHwgY29sIDwgMCB8fCBjb2wgPiA5KSByZXR1cm4gdHJ1ZTsgLy8gb3V0IG9mIGJvdW5kcyA9IE9LLCBzaGlwIGNhbiBiZSBwbGFjZWQgb24gYm91bmRcbiAgICByZXR1cm4gdGhpcy5ncmlkW3Jvd11bY29sXSA9PT0gbnVsbDtcbiAgfVxuXG4gIC8vIEhlbHBlciB0byBjaGVjayBpZiBwb3NpdGlvbiBpcyB0YWtlbiBieSBvdGhlciBzaGlwIG9yIGlmIGFueSBuZWlnaGJvdXIgY2VsbCBpcyB0YWtlbiBieSBvdGhlciBzaGlwXG4gIGNhblBsYWNlU2hpcChzaGlwLCByb3csIGNvbCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gU2VnbWVudCBwb3NpdGlvblxuICAgICAgbGV0IHIgPSBzaGlwLnZlcnRpY2FsID8gcm93ICsgaSA6IHJvdztcbiAgICAgIGxldCBjID0gc2hpcC52ZXJ0aWNhbCA/IGNvbCA6IGNvbCArIGk7XG5cbiAgICAgIC8vIENoZWNrIGNlbGwgYW5kIG5laWdoYm91cnNcbiAgICAgIC8vIGRyID0gZGVsdGEgcm93LCBkYyA9IGRlbHRhIGNlbGxcbiAgICAgIGZvciAobGV0IGRyID0gLTE7IGRyIDw9IDE7IGRyKyspIHtcbiAgICAgICAgZm9yIChsZXQgZGMgPSAtMTsgZGMgPD0gMTsgZGMrKykge1xuICAgICAgICAgIGlmICghdGhpcy5pc0VtcHR5T3JOdWxsKHIgKyBkciwgYyArIGRjKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHBsYWNlU2hpcChzaGlwLCByb3csIGNvbCkge1xuICAgIC8vIENoZWNrIGlmIHBsYXllciB3ZW50IG91dCBvZiBzaGlwcyBvZiBjZXJ0YWluIHR5cGVcbiAgICBpZiAoXG4gICAgICAhdGhpcy5zaGlwc0F2YWlsYWJsZVtzaGlwLmxlbmd0aF0gfHxcbiAgICAgIHRoaXMuc2hpcHNBdmFpbGFibGVbc2hpcC5sZW5ndGhdID09PSAwXG4gICAgKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQWxsIHRoZSBzaGlwcyB3aXRoIGxlbmd0aCBvZiAke3NoaXAubGVuZ3RofSBhcmUgYWxyZWFkeSBwYWxjZWRgLFxuICAgICAgKTtcblxuICAgIC8vIENoZWNrIGlmIHByb3ZpZGVkIGFyZ3VtZW50cyBhcmUgaW4gYm91bmRzXG4gICAgaWYgKHJvdyA8IDAgfHwgcm93ID4gOSkgdGhyb3cgbmV3IEVycm9yKCdUaGUgcm93IGluZGV4IGlzIG91dCBvZiBib3VuZHMnKTtcblxuICAgIGlmIChjb2wgPCAwIHx8IGNvbCA+IDkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjb2x1bW4gaW5kZXggaXMgb3V0IG9mIGJvdW5kcycpO1xuXG4gICAgY29uc3QgY29vcmRzID0gW107XG5cbiAgICAvLyBDaGVjayBpZiBob3Jpem9udGFsIHNoaXAgaXNuJ3Qgb3V0IG9mIGJvdW5kcyAvIG92ZXJsYXAgb3RoZXIgc2hpcCAvIHRvdWNoIG90aGVyIHNoaXBcbiAgICBpZiAoc2hpcC52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgIGlmIChjb2wgKyBzaGlwLmxlbmd0aCAtIDEgPD0gOSkge1xuICAgICAgICBpZiAoIXRoaXMuY2FuUGxhY2VTaGlwKHNoaXAsIHJvdywgY29sKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2hpcHMgY2Fubm90IG92ZXJsYXAgb3IgdG91Y2ggZWFjaCBvdGhlcicpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuZ3JpZFtyb3ddW2NvbCArIGldID0gc2hpcDtcbiAgICAgICAgICBjb29yZHMucHVzaChbcm93LCBjb2wgKyBpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBsYWNlIHNoaXAgb3V0IG9mIGJvdW5kcycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHZlcnRpY2FsIHNoaXAgaXNuJ3Qgb3V0IG9mIGJvdW5kcyAvIG92ZXJsYXAgb3RoZXIgc2hpcCAvIHRvdWNoIG90aGVyIHNoaXBcbiAgICBpZiAoc2hpcC52ZXJ0aWNhbCA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKHJvdyArIHNoaXAubGVuZ3RoIC0gMSA8PSA5KSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5QbGFjZVNoaXAoc2hpcCwgcm93LCBjb2wpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGlwcyBjYW5ub3Qgb3ZlcmxhcCBvciB0b3VjaCBlYWNoIG90aGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5ncmlkW3JvdyArIGldW2NvbF0gPSBzaGlwO1xuICAgICAgICAgIGNvb3Jkcy5wdXNoKFtyb3cgKyBpLCBjb2xdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGxhY2Ugc2hpcCBvdXQgb2YgYm91bmRzJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVjcmVtZW50IGFtb3VudCBvZiBhdmFpbGFibGUgc2hpcHMgb2YgY2VydGFpbiB0eXBlXG4gICAgdGhpcy5zaGlwc0F2YWlsYWJsZVtzaGlwLmxlbmd0aF0tLTtcblxuICAgIC8vIFB1c2ggc2hpcCBpbnRvIGZsZWV0IGFycmF5XG4gICAgdGhpcy5mbGVldC5wdXNoKHNoaXApO1xuXG4gICAgLy8gU3RvcmUgc2hpcCBjb29yZGluYXRlcyBmb3IgbGF0ZXIgaGlnaGxpZ2h0aW5nXG4gICAgdGhpcy5zaGlwUG9zaXRpb25zLnNldChzaGlwLCBjb29yZHMpO1xuICB9XG5cbiAgcmVjZWl2ZUF0dGFjayhyb3csIGNvbCkge1xuICAgIGlmIChyb3cgPCAwIHx8IHJvdyA+IDkgfHwgY29sIDwgMCB8fCBjb2wgPiA5KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2hvdCBvdXQgb2YgYm91bmRzJyk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLmdyaWRbcm93XVtjb2xdID09PSAnaGl0JyB8fFxuICAgICAgdGhpcy5ncmlkW3Jvd11bY29sXSA9PT0gJ21pc3MnIHx8XG4gICAgICB0aGlzLmdyaWRbcm93XVtjb2xdID09PSAnc3VuaydcbiAgICApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzaG90IHNhbWUgY2VsbCB0d2ljZScpO1xuXG4gICAgaWYgKHRoaXMuZ3JpZFtyb3ddW2NvbF0gaW5zdGFuY2VvZiBTaGlwKSB7XG4gICAgICBjb25zdCBzaGlwID0gdGhpcy5ncmlkW3Jvd11bY29sXTtcbiAgICAgIHNoaXAuaGl0KCk7XG4gICAgICB0aGlzLmdyaWRbcm93XVtjb2xdID0gJ2hpdCc7XG5cbiAgICAgIGNvbnN0IHN1bmsgPSBzaGlwLmlzU3VuaygpO1xuICAgICAgaWYgKHN1bmspIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5zaGlwUG9zaXRpb25zLmdldChzaGlwKSB8fCBbXTtcbiAgICAgICAgcG9zaXRpb25zLmZvckVhY2goKFtyLCBjXSkgPT4ge1xuICAgICAgICAgIHRoaXMuZ3JpZFtyXVtjXSA9ICdzdW5rJzsgLy8gb3puYWN6IGNhxYJvxZvEhyB3IGdyaWRcbiAgICAgICAgICB0aGlzLnN1bmtDZWxscy5hZGQoYCR7cn0sJHtjfWApOyAvLyBpIHphcGFtacSZdGFqIGRvIHJlbmRlcnVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdW5rID8geyByZXN1bHQ6ICdzdW5rJywgc2hpcCB9IDogeyByZXN1bHQ6ICdoaXQnLCBzaGlwIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ3JpZFtyb3ddW2NvbF0gPSAnbWlzcyc7XG4gICAgICByZXR1cm4geyByZXN1bHQ6ICdtaXNzJyB9O1xuICAgIH1cbiAgfVxuXG4gIGFsbFNoaXBzU3VuaygpIHtcbiAgICByZXR1cm4gdGhpcy5mbGVldC5sZW5ndGggPiAwICYmIHRoaXMuZmxlZXQuZXZlcnkoKHNoaXApID0+IHNoaXAuaXNTdW5rKCkpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/engine/gameboard.js\n\n}");

/***/ },

/***/ "./src/engine/gameplay.js"
/*!********************************!*\
  !*** ./src/engine/gameplay.js ***!
  \********************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Game: () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var _players_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./players.js */ \"./src/engine/players.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"./src/engine/utils.js\");\n\n\n\n\nclass Game {\n  constructor() {\n    this.player1 = new _players_js__WEBPACK_IMPORTED_MODULE_0__.Player();\n    this.cpu = new _players_js__WEBPACK_IMPORTED_MODULE_0__.CPU();\n\n    // Track which player started last, for rematch switching\n    this.wasPlayerFirst = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRandomIntBetween)(0, 1) === 0;\n    this.firstToMove = this.wasPlayerFirst ? this.player1 : this.cpu;\n    this.onTheMove = this.firstToMove;\n\n    // Game-over flag\n    this.gameOver = false;\n\n    // Internal cpu loop control\n    this._cpuLoopRunning = false;\n    this._cpuLoopTimer = null;\n  }\n\n  // Helper to toggle a body class so CSS can react to CPU turn.\n  _setCpuTurnClass(enable) {\n    if (typeof document === 'undefined' || !document.body) return;\n    if (enable) document.body.classList.add('cpu-turn');\n    else document.body.classList.remove('cpu-turn');\n  }\n\n  // Automated CPU attack\n  cpuMove() {\n    // If player's fleet is already sunk, return immediate game result (avoid calling cpu.attack)\n    if (this.player1.gameboard.allShipsSunk()) {\n      this.gameOver = true;\n      this.onTheMove = null;\n      // ensure CPU loop will stop\n      return { gameResult: 'CPU wins!' };\n    }\n\n    // Perform one CPU attack (may throw) — protect with try/catch\n    let shot;\n    try {\n      shot = this.cpu.attack(this.player1.gameboard);\n    } catch (e) {\n      // Stop cpu loop on unexpected engine error and return error object\n      this._cpuLoopRunning = false;\n      if (this._cpuLoopTimer) {\n        clearTimeout(this._cpuLoopTimer);\n        this._cpuLoopTimer = null;\n      }\n      // mark game as over to block further clicks\n      this.gameOver = true;\n      this.onTheMove = null;\n      return { error: e?.message || String(e) };\n    }\n\n    // If attack finished the player's fleet, return game result\n    if (this.player1.gameboard.allShipsSunk()) {\n      this.gameOver = true;\n      this.onTheMove = null;\n      return { gameResult: 'CPU wins!' };\n    }\n\n    // Normal flow: set onTheMove according to shot result\n    if (shot?.result === 'hit' || shot?.result === 'sunk') {\n      this.onTheMove = this.cpu;\n      return shot;\n    } else if (shot?.result === 'miss') {\n      this.onTheMove = this.player1;\n      return shot;\n    }\n\n    // shot could be undefined (skipped) — do not change onTheMove\n    return shot;\n  }\n\n  // Coordinates delivered by UI\n  player1Move(row, col) {\n    // If game is over, do not accept moves\n    if (this.gameOver) return { error: 'Game is over' };\n\n    const shot = this.cpu.gameboard.receiveAttack(row, col);\n\n    // If player's shot finished the CPU fleet\n    if (this.cpu.gameboard.allShipsSunk()) {\n      this.gameOver = true;\n      this.onTheMove = null;\n      return { gameResult: 'Player 1 wins!' };\n    }\n\n    if (shot?.result === 'hit' || shot?.result === 'sunk') {\n      // player hit -> keep player's turn\n      this.onTheMove = this.player1;\n      return shot;\n    } else {\n      // miss -> CPU starts\n      this.onTheMove = this.cpu;\n      return shot;\n    }\n  }\n\n  // Start CPU loop inside engine.\n  // delay: default ms between cpu moves when onIteration doesn't override\n  // onIteration: optional callback(shot) executed after each cpuMove; may return nextDelay (ms)\n  startCpuLoop(delay = 500, onIteration = null) {\n    if (this._cpuLoopRunning) return; // already running\n    this._cpuLoopRunning = true;\n\n    // Mark UI as CPU turn so CSS can disable hover/cursor\n    this._setCpuTurnClass(true);\n\n    const loop = () => {\n      if (this.onTheMove !== this.cpu) {\n        // CPU no longer on turn -> stop and clear UI indicator\n        this._cpuLoopRunning = false;\n        this._cpuLoopTimer = null;\n        this._setCpuTurnClass(false);\n        return;\n      }\n\n      const shot = this.cpuMove();\n\n      // call UI update callback if provided; callback may return a delay (ms) for next iteration\n      let returnedDelay = null;\n      if (typeof onIteration === 'function') {\n        try {\n          returnedDelay = onIteration(shot);\n        } catch {\n          /* swallow */\n        }\n      }\n\n      // If the shot indicates gameResult or error, stop the loop and clear UI indicator\n      if (shot?.gameResult || shot?.error) {\n        this._cpuLoopRunning = false;\n        if (this._cpuLoopTimer) {\n          clearTimeout(this._cpuLoopTimer);\n          this._cpuLoopTimer = null;\n        }\n        this._setCpuTurnClass(false);\n        return;\n      }\n\n      // Determine next delay: prefer returnedDelay if provided (number), otherwise default delay\n      const nextDelay =\n        typeof returnedDelay === 'number' ? returnedDelay : delay;\n\n      if (this.onTheMove === this.cpu) {\n        this._cpuLoopTimer = setTimeout(loop, nextDelay);\n      } else {\n        this._cpuLoopRunning = false;\n        this._cpuLoopTimer = null;\n        this._setCpuTurnClass(false);\n      }\n    };\n\n    loop();\n  }\n\n  // Stop CPU loop if running\n  stopCpuLoop() {\n    if (this._cpuLoopTimer) {\n      clearTimeout(this._cpuLoopTimer);\n      this._cpuLoopTimer = null;\n    }\n    this._cpuLoopRunning = false;\n    this._setCpuTurnClass(false);\n  }\n\n  resetGame() {\n    this.player1 = new _players_js__WEBPACK_IMPORTED_MODULE_0__.Player();\n    this.cpu = new _players_js__WEBPACK_IMPORTED_MODULE_0__.CPU();\n\n    // Switch starting player\n    this.wasPlayerFirst = !this.wasPlayerFirst;\n    this.firstToMove = this.wasPlayerFirst ? this.player1 : this.cpu;\n    this.onTheMove = this.firstToMove;\n\n    // Reset game over flag\n    this.gameOver = false;\n\n    // Reset internal loop state\n    this.stopCpuLoop();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW5naW5lL2dhbWVwbGF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzQztBQUNIO0FBQ2M7O0FBRTFDO0FBQ1A7QUFDQSx1QkFBdUIsK0NBQU07QUFDN0IsbUJBQW1CLDRDQUFHOztBQUV0QjtBQUNBLDBCQUEwQiw4REFBbUI7QUFDN0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7O0FBRWhDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBLHNDQUFzQztBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLCtDQUFNO0FBQzdCLG1CQUFtQiw0Q0FBRzs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZW5naW5lL2dhbWVwbGF5LmpzP2NiZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXJzLmpzJztcbmltcG9ydCB7IENQVSB9IGZyb20gJy4vcGxheWVycy5qcyc7XG5pbXBvcnQgeyBnZXRSYW5kb21JbnRCZXR3ZWVuIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wbGF5ZXIxID0gbmV3IFBsYXllcigpO1xuICAgIHRoaXMuY3B1ID0gbmV3IENQVSgpO1xuXG4gICAgLy8gVHJhY2sgd2hpY2ggcGxheWVyIHN0YXJ0ZWQgbGFzdCwgZm9yIHJlbWF0Y2ggc3dpdGNoaW5nXG4gICAgdGhpcy53YXNQbGF5ZXJGaXJzdCA9IGdldFJhbmRvbUludEJldHdlZW4oMCwgMSkgPT09IDA7XG4gICAgdGhpcy5maXJzdFRvTW92ZSA9IHRoaXMud2FzUGxheWVyRmlyc3QgPyB0aGlzLnBsYXllcjEgOiB0aGlzLmNwdTtcbiAgICB0aGlzLm9uVGhlTW92ZSA9IHRoaXMuZmlyc3RUb01vdmU7XG5cbiAgICAvLyBHYW1lLW92ZXIgZmxhZ1xuICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcblxuICAgIC8vIEludGVybmFsIGNwdSBsb29wIGNvbnRyb2xcbiAgICB0aGlzLl9jcHVMb29wUnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2NwdUxvb3BUaW1lciA9IG51bGw7XG4gIH1cblxuICAvLyBIZWxwZXIgdG8gdG9nZ2xlIGEgYm9keSBjbGFzcyBzbyBDU1MgY2FuIHJlYWN0IHRvIENQVSB0dXJuLlxuICBfc2V0Q3B1VHVybkNsYXNzKGVuYWJsZSkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICFkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gICAgaWYgKGVuYWJsZSkgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdjcHUtdHVybicpO1xuICAgIGVsc2UgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdjcHUtdHVybicpO1xuICB9XG5cbiAgLy8gQXV0b21hdGVkIENQVSBhdHRhY2tcbiAgY3B1TW92ZSgpIHtcbiAgICAvLyBJZiBwbGF5ZXIncyBmbGVldCBpcyBhbHJlYWR5IHN1bmssIHJldHVybiBpbW1lZGlhdGUgZ2FtZSByZXN1bHQgKGF2b2lkIGNhbGxpbmcgY3B1LmF0dGFjaylcbiAgICBpZiAodGhpcy5wbGF5ZXIxLmdhbWVib2FyZC5hbGxTaGlwc1N1bmsoKSkge1xuICAgICAgdGhpcy5nYW1lT3ZlciA9IHRydWU7XG4gICAgICB0aGlzLm9uVGhlTW92ZSA9IG51bGw7XG4gICAgICAvLyBlbnN1cmUgQ1BVIGxvb3Agd2lsbCBzdG9wXG4gICAgICByZXR1cm4geyBnYW1lUmVzdWx0OiAnQ1BVIHdpbnMhJyB9O1xuICAgIH1cblxuICAgIC8vIFBlcmZvcm0gb25lIENQVSBhdHRhY2sgKG1heSB0aHJvdykg4oCUIHByb3RlY3Qgd2l0aCB0cnkvY2F0Y2hcbiAgICBsZXQgc2hvdDtcbiAgICB0cnkge1xuICAgICAgc2hvdCA9IHRoaXMuY3B1LmF0dGFjayh0aGlzLnBsYXllcjEuZ2FtZWJvYXJkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBTdG9wIGNwdSBsb29wIG9uIHVuZXhwZWN0ZWQgZW5naW5lIGVycm9yIGFuZCByZXR1cm4gZXJyb3Igb2JqZWN0XG4gICAgICB0aGlzLl9jcHVMb29wUnVubmluZyA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMuX2NwdUxvb3BUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY3B1TG9vcFRpbWVyKTtcbiAgICAgICAgdGhpcy5fY3B1TG9vcFRpbWVyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgZ2FtZSBhcyBvdmVyIHRvIGJsb2NrIGZ1cnRoZXIgY2xpY2tzXG4gICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgIHRoaXMub25UaGVNb3ZlID0gbnVsbDtcbiAgICAgIHJldHVybiB7IGVycm9yOiBlPy5tZXNzYWdlIHx8IFN0cmluZyhlKSB9O1xuICAgIH1cblxuICAgIC8vIElmIGF0dGFjayBmaW5pc2hlZCB0aGUgcGxheWVyJ3MgZmxlZXQsIHJldHVybiBnYW1lIHJlc3VsdFxuICAgIGlmICh0aGlzLnBsYXllcjEuZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XG4gICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgIHRoaXMub25UaGVNb3ZlID0gbnVsbDtcbiAgICAgIHJldHVybiB7IGdhbWVSZXN1bHQ6ICdDUFUgd2lucyEnIH07XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsIGZsb3c6IHNldCBvblRoZU1vdmUgYWNjb3JkaW5nIHRvIHNob3QgcmVzdWx0XG4gICAgaWYgKHNob3Q/LnJlc3VsdCA9PT0gJ2hpdCcgfHwgc2hvdD8ucmVzdWx0ID09PSAnc3VuaycpIHtcbiAgICAgIHRoaXMub25UaGVNb3ZlID0gdGhpcy5jcHU7XG4gICAgICByZXR1cm4gc2hvdDtcbiAgICB9IGVsc2UgaWYgKHNob3Q/LnJlc3VsdCA9PT0gJ21pc3MnKSB7XG4gICAgICB0aGlzLm9uVGhlTW92ZSA9IHRoaXMucGxheWVyMTtcbiAgICAgIHJldHVybiBzaG90O1xuICAgIH1cblxuICAgIC8vIHNob3QgY291bGQgYmUgdW5kZWZpbmVkIChza2lwcGVkKSDigJQgZG8gbm90IGNoYW5nZSBvblRoZU1vdmVcbiAgICByZXR1cm4gc2hvdDtcbiAgfVxuXG4gIC8vIENvb3JkaW5hdGVzIGRlbGl2ZXJlZCBieSBVSVxuICBwbGF5ZXIxTW92ZShyb3csIGNvbCkge1xuICAgIC8vIElmIGdhbWUgaXMgb3ZlciwgZG8gbm90IGFjY2VwdCBtb3Zlc1xuICAgIGlmICh0aGlzLmdhbWVPdmVyKSByZXR1cm4geyBlcnJvcjogJ0dhbWUgaXMgb3ZlcicgfTtcblxuICAgIGNvbnN0IHNob3QgPSB0aGlzLmNwdS5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhyb3csIGNvbCk7XG5cbiAgICAvLyBJZiBwbGF5ZXIncyBzaG90IGZpbmlzaGVkIHRoZSBDUFUgZmxlZXRcbiAgICBpZiAodGhpcy5jcHUuZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XG4gICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgIHRoaXMub25UaGVNb3ZlID0gbnVsbDtcbiAgICAgIHJldHVybiB7IGdhbWVSZXN1bHQ6ICdQbGF5ZXIgMSB3aW5zIScgfTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdD8ucmVzdWx0ID09PSAnaGl0JyB8fCBzaG90Py5yZXN1bHQgPT09ICdzdW5rJykge1xuICAgICAgLy8gcGxheWVyIGhpdCAtPiBrZWVwIHBsYXllcidzIHR1cm5cbiAgICAgIHRoaXMub25UaGVNb3ZlID0gdGhpcy5wbGF5ZXIxO1xuICAgICAgcmV0dXJuIHNob3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1pc3MgLT4gQ1BVIHN0YXJ0c1xuICAgICAgdGhpcy5vblRoZU1vdmUgPSB0aGlzLmNwdTtcbiAgICAgIHJldHVybiBzaG90O1xuICAgIH1cbiAgfVxuXG4gIC8vIFN0YXJ0IENQVSBsb29wIGluc2lkZSBlbmdpbmUuXG4gIC8vIGRlbGF5OiBkZWZhdWx0IG1zIGJldHdlZW4gY3B1IG1vdmVzIHdoZW4gb25JdGVyYXRpb24gZG9lc24ndCBvdmVycmlkZVxuICAvLyBvbkl0ZXJhdGlvbjogb3B0aW9uYWwgY2FsbGJhY2soc2hvdCkgZXhlY3V0ZWQgYWZ0ZXIgZWFjaCBjcHVNb3ZlOyBtYXkgcmV0dXJuIG5leHREZWxheSAobXMpXG4gIHN0YXJ0Q3B1TG9vcChkZWxheSA9IDUwMCwgb25JdGVyYXRpb24gPSBudWxsKSB7XG4gICAgaWYgKHRoaXMuX2NwdUxvb3BSdW5uaW5nKSByZXR1cm47IC8vIGFscmVhZHkgcnVubmluZ1xuICAgIHRoaXMuX2NwdUxvb3BSdW5uaW5nID0gdHJ1ZTtcblxuICAgIC8vIE1hcmsgVUkgYXMgQ1BVIHR1cm4gc28gQ1NTIGNhbiBkaXNhYmxlIGhvdmVyL2N1cnNvclxuICAgIHRoaXMuX3NldENwdVR1cm5DbGFzcyh0cnVlKTtcblxuICAgIGNvbnN0IGxvb3AgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vblRoZU1vdmUgIT09IHRoaXMuY3B1KSB7XG4gICAgICAgIC8vIENQVSBubyBsb25nZXIgb24gdHVybiAtPiBzdG9wIGFuZCBjbGVhciBVSSBpbmRpY2F0b3JcbiAgICAgICAgdGhpcy5fY3B1TG9vcFJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3B1TG9vcFRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2V0Q3B1VHVybkNsYXNzKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzaG90ID0gdGhpcy5jcHVNb3ZlKCk7XG5cbiAgICAgIC8vIGNhbGwgVUkgdXBkYXRlIGNhbGxiYWNrIGlmIHByb3ZpZGVkOyBjYWxsYmFjayBtYXkgcmV0dXJuIGEgZGVsYXkgKG1zKSBmb3IgbmV4dCBpdGVyYXRpb25cbiAgICAgIGxldCByZXR1cm5lZERlbGF5ID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2Ygb25JdGVyYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm5lZERlbGF5ID0gb25JdGVyYXRpb24oc2hvdCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8qIHN3YWxsb3cgKi9cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc2hvdCBpbmRpY2F0ZXMgZ2FtZVJlc3VsdCBvciBlcnJvciwgc3RvcCB0aGUgbG9vcCBhbmQgY2xlYXIgVUkgaW5kaWNhdG9yXG4gICAgICBpZiAoc2hvdD8uZ2FtZVJlc3VsdCB8fCBzaG90Py5lcnJvcikge1xuICAgICAgICB0aGlzLl9jcHVMb29wUnVubmluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fY3B1TG9vcFRpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NwdUxvb3BUaW1lcik7XG4gICAgICAgICAgdGhpcy5fY3B1TG9vcFRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRDcHVUdXJuQ2xhc3MoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBuZXh0IGRlbGF5OiBwcmVmZXIgcmV0dXJuZWREZWxheSBpZiBwcm92aWRlZCAobnVtYmVyKSwgb3RoZXJ3aXNlIGRlZmF1bHQgZGVsYXlcbiAgICAgIGNvbnN0IG5leHREZWxheSA9XG4gICAgICAgIHR5cGVvZiByZXR1cm5lZERlbGF5ID09PSAnbnVtYmVyJyA/IHJldHVybmVkRGVsYXkgOiBkZWxheTtcblxuICAgICAgaWYgKHRoaXMub25UaGVNb3ZlID09PSB0aGlzLmNwdSkge1xuICAgICAgICB0aGlzLl9jcHVMb29wVGltZXIgPSBzZXRUaW1lb3V0KGxvb3AsIG5leHREZWxheSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jcHVMb29wUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jcHVMb29wVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9zZXRDcHVUdXJuQ2xhc3MoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsb29wKCk7XG4gIH1cblxuICAvLyBTdG9wIENQVSBsb29wIGlmIHJ1bm5pbmdcbiAgc3RvcENwdUxvb3AoKSB7XG4gICAgaWYgKHRoaXMuX2NwdUxvb3BUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NwdUxvb3BUaW1lcik7XG4gICAgICB0aGlzLl9jcHVMb29wVGltZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9jcHVMb29wUnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3NldENwdVR1cm5DbGFzcyhmYWxzZSk7XG4gIH1cblxuICByZXNldEdhbWUoKSB7XG4gICAgdGhpcy5wbGF5ZXIxID0gbmV3IFBsYXllcigpO1xuICAgIHRoaXMuY3B1ID0gbmV3IENQVSgpO1xuXG4gICAgLy8gU3dpdGNoIHN0YXJ0aW5nIHBsYXllclxuICAgIHRoaXMud2FzUGxheWVyRmlyc3QgPSAhdGhpcy53YXNQbGF5ZXJGaXJzdDtcbiAgICB0aGlzLmZpcnN0VG9Nb3ZlID0gdGhpcy53YXNQbGF5ZXJGaXJzdCA/IHRoaXMucGxheWVyMSA6IHRoaXMuY3B1O1xuICAgIHRoaXMub25UaGVNb3ZlID0gdGhpcy5maXJzdFRvTW92ZTtcblxuICAgIC8vIFJlc2V0IGdhbWUgb3ZlciBmbGFnXG4gICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuXG4gICAgLy8gUmVzZXQgaW50ZXJuYWwgbG9vcCBzdGF0ZVxuICAgIHRoaXMuc3RvcENwdUxvb3AoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/engine/gameplay.js\n\n}");

/***/ },

/***/ "./src/engine/players.js"
/*!*******************************!*\
  !*** ./src/engine/players.js ***!
  \*******************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CPU: () => (/* binding */ CPU),\n/* harmony export */   Player: () => (/* binding */ Player)\n/* harmony export */ });\n/* harmony import */ var _gameboard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gameboard.js */ \"./src/engine/gameboard.js\");\n/* harmony import */ var _ship_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ship.js */ \"./src/engine/ship.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/engine/utils.js\");\n\n\n\n\nclass Player {\n  constructor(name = 'Player 1') {\n    this.gameboard = new _gameboard_js__WEBPACK_IMPORTED_MODULE_0__.Gameboard();\n    this.name = name;\n  }\n\n  randomShipsPlacement() {\n    const isVertical = [false, true];\n\n    for (let i = 4; i > 0; i--) {\n      while (this.gameboard.shipsAvailable[i] > 0) {\n        try {\n          this.gameboard.placeShip(\n            // Create new ship with randomly set orientation (index 0 or 1 of isVertical array) and coordinates (random from 0-9)\n            new _ship_js__WEBPACK_IMPORTED_MODULE_1__.Ship(i, isVertical[(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRandomIntBetween)(0, 1)]),\n            Math.floor((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRandomIntBetween)(0, 9)),\n            Math.floor((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRandomIntBetween)(0, 9)),\n          );\n        } catch {\n          // Failed placing ship, will retry\n        }\n      }\n    }\n  }\n}\n\nclass CPU extends Player {\n  constructor() {\n    super('CPU');\n    // 'random' if prev shot inaccurate or 'target' if opposite\n    this.mode = 'random';\n\n    this.possibleMoves = [];\n    for (let row = 0; row < 10; row++) {\n      for (let col = 0; col < 10; col++) {\n        this.possibleMoves.push([row, col]);\n      }\n    }\n\n    // Queue for focused \"target\" moves: stores coordinates of first hit and candidate neighbors to try until the whole ship is sunk (used in targetAttack())\n    this.movesStreak = [];\n\n    this.candidateMoves = [];\n  }\n\n  // Helper to remove all adjacent cells of sunk ship\n  removeAdjacentToSunkShip(ship, enemyBoard) {\n    if (!ship) return;\n    for (let r = 0; r < 10; r++) {\n      for (let c = 0; c < 10; c++) {\n        if (enemyBoard.grid[r][c] === ship) {\n          for (let dr = -1; dr <= 1; dr++) {\n            for (let dc = -1; dc <= 1; dc++) {\n              const nr = r + dr;\n              const nc = c + dc;\n              // If in bounds of gameboard\n              if (nr >= 0 && nr < 10 && nc >= 0 && nc < 10) {\n                // Delete from possibleMoves\n                this.possibleMoves = this.possibleMoves.filter(\n                  ([row, col]) => !(row === nr && col === nc),\n                );\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Helper if no ship hit\n  randomAttack(enemyBoard) {\n    if (this.possibleMoves.length === 0) {\n      throw new Error('No moves left');\n    }\n\n    // Keep trying until we find a cell that hasn't been attacked yet\n    let idx;\n    let row, col;\n    let shot = null;\n    let attempted = false;\n\n    while (this.possibleMoves.length > 0) {\n      idx = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRandomIntBetween)(0, this.possibleMoves.length - 1);\n      [row, col] = this.possibleMoves.splice(idx, 1)[0];\n\n      // If enemyBoard.grid exists, skip already attacked cells\n      const cellVal = enemyBoard?.grid?.[row]?.[col];\n      if (cellVal === 'hit' || cellVal === 'miss') {\n        // Already attacked — skip and continue\n        continue;\n      }\n\n      // Try attack; if it throws, mark attempted and continue\n      try {\n        shot = enemyBoard.receiveAttack(row, col);\n        attempted = true;\n      } catch {\n        attempted = true;\n        // Try next move\n        continue;\n      }\n\n      // Got a valid shot result (may be undefined if tests mocked it)\n      break;\n    }\n\n    if (!attempted) {\n      // We never called receiveAttack because all remaining possibleMoves were skipped\n      throw new Error('No moves left');\n    }\n\n    // Switch to target mode only if ship is hit but hasn't sunk yet\n    if (shot?.result === 'hit') {\n      this.mode = 'target';\n      this.movesStreak.push([row, col]);\n    }\n    if (shot?.result === 'sunk') {\n      this.removeAdjacentToSunkShip(shot.ship, enemyBoard);\n    }\n    return shot;\n  }\n\n  // Helper for inteligent attack when ship hit\n  // IMPORTANT: This function performs AT MOST ONE real attack (one call to enemyBoard.receiveAttack).\n  // That allows Game.startCpuLoop to schedule delays between CPU shots (for UI/animations).\n  targetAttack(enemyBoard) {\n    let shot = null;\n    // In case we're not in target mode, fallback to random\n    if (this.mode === 'random') return this.randomAttack(enemyBoard);\n\n    if (this.movesStreak.length === 1) {\n      this.candidateMoves = [];\n      const [row, col] = this.movesStreak[0];\n\n      // Remove diagonal neighbor positions from possibleMoves, as ships can't have segments there\n      const impossiblePos = [\n        [1, 1],\n        [-1, 1],\n        [-1, -1],\n        [1, -1],\n      ];\n      for (let [dr, dc] of impossiblePos) {\n        const removeRow = row + dr;\n        const removeCol = col + dc;\n        const idx = this.possibleMoves.findIndex(\n          ([r, c]) => r === removeRow && c === removeCol,\n        );\n        if (idx !== -1) {\n          this.possibleMoves.splice(idx, 1);\n        }\n      }\n\n      const possiblePos = [\n        [1, 0],\n        [0, 1],\n        [-1, 0],\n        [0, -1],\n      ];\n\n      for (let [dr, dc] of possiblePos) {\n        const insertRow = row + dr;\n        const insertCol = col + dc;\n        const idx = this.possibleMoves.findIndex(\n          ([r, c]) => r === insertRow && c === insertCol,\n        );\n        if (idx !== -1) {\n          this.candidateMoves.push([insertRow, insertCol]);\n        }\n      }\n\n      // Perform at most ONE attack from candidateMoves (pick random)\n      if (this.candidateMoves.length > 0) {\n        const idx = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRandomIntBetween)(0, this.candidateMoves.length - 1);\n        const [attackRow, attackCol] = this.candidateMoves.splice(idx, 1)[0];\n\n        // defensive: if already attacked, skip this attempt (return undefined so gameplay won't switch turn)\n        if (\n          enemyBoard?.grid?.[attackRow]?.[attackCol] === 'hit' ||\n          enemyBoard?.grid?.[attackRow]?.[attackCol] === 'miss'\n        ) {\n          return undefined;\n        }\n\n        try {\n          shot = enemyBoard.receiveAttack(attackRow, attackCol);\n        } catch {\n          // on error, don't change turn — let cpu loop try again next tick\n          return undefined;\n        }\n\n        if (shot?.result === 'hit') {\n          this.movesStreak.push([attackRow, attackCol]);\n        }\n        if (shot?.result === 'sunk') {\n          this.removeAdjacentToSunkShip(shot.ship, enemyBoard);\n          this.movesStreak = [];\n          this.mode = 'random';\n        }\n      } else {\n        // Fallback if no candidateMoves\n        this.mode = 'random';\n        this.movesStreak = [];\n        return this.randomAttack(enemyBoard);\n      }\n    } else if (this.movesStreak.length > 1) {\n      // Determine the orientation of the streak\n      const [r1] = this.movesStreak[0];\n      const [r2] = this.movesStreak[1];\n      const isVertical = r1 !== r2;\n\n      // Find the ends of the streak and check only the adjacent cells at the ends\n      let ends = [];\n      if (isVertical) {\n        this.movesStreak.sort(([rA], [rB]) => rA - rB);\n        const head = this.movesStreak[0];\n        const tail = this.movesStreak[this.movesStreak.length - 1];\n        ends = [\n          [head[0] - 1, head[1]],\n          [tail[0] + 1, tail[1]],\n        ];\n      } else {\n        this.movesStreak.sort(([, cA], [, cB]) => cA - cB);\n        const head = this.movesStreak[0];\n        const tail = this.movesStreak[this.movesStreak.length - 1];\n        ends = [\n          [head[0], head[1] - 1],\n          [tail[0], tail[1] + 1],\n        ];\n      }\n\n      // Check only the cells at the ends of the streak for possible moves\n      this.candidateMoves = [];\n      for (let [r, c] of ends) {\n        const idx = this.possibleMoves.findIndex(([rr, cc]) => rr === r && cc === c);\n        if (idx !== -1) this.candidateMoves.push([r, c]);\n      }\n\n      if (this.candidateMoves.length > 0) {\n        // pick a single candidate and perform at most one attack\n        const idx = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRandomIntBetween)(0, this.candidateMoves.length - 1);\n        const [attackRow, attackCol] = this.candidateMoves.splice(idx, 1)[0];\n\n        if (\n          enemyBoard?.grid?.[attackRow]?.[attackCol] === 'hit' ||\n          enemyBoard?.grid?.[attackRow]?.[attackCol] === 'miss'\n        ) {\n          return undefined;\n        }\n\n        try {\n          shot = enemyBoard.receiveAttack(attackRow, attackCol);\n        } catch {\n          return undefined;\n        }\n\n        if (shot?.result === 'hit') {\n          this.movesStreak.push([attackRow, attackCol]);\n        }\n        if (shot?.result === 'sunk') {\n          this.removeAdjacentToSunkShip(shot.ship, enemyBoard);\n          this.movesStreak = [];\n          this.mode = 'random';\n        }\n      } else {\n        // fallback\n        this.mode = 'random';\n        this.movesStreak = [];\n        return this.randomAttack(enemyBoard);\n      }\n    }\n\n    // If no attack was made above, randomAttack will be called by the final return below\n    return shot || this.randomAttack(enemyBoard);\n  }\n\n  // Main attack method\n  attack(enemyBoard) {\n    if (this.mode === 'random') return this.randomAttack(enemyBoard);\n    else return this.targetAttack(enemyBoard);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW5naW5lL3BsYXllcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkM7QUFDVjtBQUNnQjs7QUFFMUM7QUFDUDtBQUNBLHlCQUF5QixvREFBUztBQUNsQztBQUNBOztBQUVBO0FBQ0E7O0FBRUEsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMENBQUksZUFBZSw4REFBbUI7QUFDdEQsdUJBQXVCLDhEQUFtQjtBQUMxQyx1QkFBdUIsOERBQW1CO0FBQzFDO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEMsd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QixzQkFBc0IsUUFBUTtBQUM5QjtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDLDhCQUE4QixTQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLDhEQUFtQjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsOERBQW1CO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLDhEQUFtQjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2VuZ2luZS9wbGF5ZXJzLmpzPzg2OTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSAnLi9nYW1lYm9hcmQuanMnO1xuaW1wb3J0IHsgU2hpcCB9IGZyb20gJy4vc2hpcC5qcyc7XG5pbXBvcnQgeyBnZXRSYW5kb21JbnRCZXR3ZWVuIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihuYW1lID0gJ1BsYXllciAxJykge1xuICAgIHRoaXMuZ2FtZWJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gIH1cblxuICByYW5kb21TaGlwc1BsYWNlbWVudCgpIHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gW2ZhbHNlLCB0cnVlXTtcblxuICAgIGZvciAobGV0IGkgPSA0OyBpID4gMDsgaS0tKSB7XG4gICAgICB3aGlsZSAodGhpcy5nYW1lYm9hcmQuc2hpcHNBdmFpbGFibGVbaV0gPiAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5nYW1lYm9hcmQucGxhY2VTaGlwKFxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzaGlwIHdpdGggcmFuZG9tbHkgc2V0IG9yaWVudGF0aW9uIChpbmRleCAwIG9yIDEgb2YgaXNWZXJ0aWNhbCBhcnJheSkgYW5kIGNvb3JkaW5hdGVzIChyYW5kb20gZnJvbSAwLTkpXG4gICAgICAgICAgICBuZXcgU2hpcChpLCBpc1ZlcnRpY2FsW2dldFJhbmRvbUludEJldHdlZW4oMCwgMSldKSxcbiAgICAgICAgICAgIE1hdGguZmxvb3IoZ2V0UmFuZG9tSW50QmV0d2VlbigwLCA5KSksXG4gICAgICAgICAgICBNYXRoLmZsb29yKGdldFJhbmRvbUludEJldHdlZW4oMCwgOSkpLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8vIEZhaWxlZCBwbGFjaW5nIHNoaXAsIHdpbGwgcmV0cnlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ1BVIGV4dGVuZHMgUGxheWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ0NQVScpO1xuICAgIC8vICdyYW5kb20nIGlmIHByZXYgc2hvdCBpbmFjY3VyYXRlIG9yICd0YXJnZXQnIGlmIG9wcG9zaXRlXG4gICAgdGhpcy5tb2RlID0gJ3JhbmRvbSc7XG5cbiAgICB0aGlzLnBvc3NpYmxlTW92ZXMgPSBbXTtcbiAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCAxMDsgcm93KyspIHtcbiAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDEwOyBjb2wrKykge1xuICAgICAgICB0aGlzLnBvc3NpYmxlTW92ZXMucHVzaChbcm93LCBjb2xdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBRdWV1ZSBmb3IgZm9jdXNlZCBcInRhcmdldFwiIG1vdmVzOiBzdG9yZXMgY29vcmRpbmF0ZXMgb2YgZmlyc3QgaGl0IGFuZCBjYW5kaWRhdGUgbmVpZ2hib3JzIHRvIHRyeSB1bnRpbCB0aGUgd2hvbGUgc2hpcCBpcyBzdW5rICh1c2VkIGluIHRhcmdldEF0dGFjaygpKVxuICAgIHRoaXMubW92ZXNTdHJlYWsgPSBbXTtcblxuICAgIHRoaXMuY2FuZGlkYXRlTW92ZXMgPSBbXTtcbiAgfVxuXG4gIC8vIEhlbHBlciB0byByZW1vdmUgYWxsIGFkamFjZW50IGNlbGxzIG9mIHN1bmsgc2hpcFxuICByZW1vdmVBZGphY2VudFRvU3Vua1NoaXAoc2hpcCwgZW5lbXlCb2FyZCkge1xuICAgIGlmICghc2hpcCkgcmV0dXJuO1xuICAgIGZvciAobGV0IHIgPSAwOyByIDwgMTA7IHIrKykge1xuICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCAxMDsgYysrKSB7XG4gICAgICAgIGlmIChlbmVteUJvYXJkLmdyaWRbcl1bY10gPT09IHNoaXApIHtcbiAgICAgICAgICBmb3IgKGxldCBkciA9IC0xOyBkciA8PSAxOyBkcisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkYyA9IC0xOyBkYyA8PSAxOyBkYysrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5yID0gciArIGRyO1xuICAgICAgICAgICAgICBjb25zdCBuYyA9IGMgKyBkYztcbiAgICAgICAgICAgICAgLy8gSWYgaW4gYm91bmRzIG9mIGdhbWVib2FyZFxuICAgICAgICAgICAgICBpZiAobnIgPj0gMCAmJiBuciA8IDEwICYmIG5jID49IDAgJiYgbmMgPCAxMCkge1xuICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBmcm9tIHBvc3NpYmxlTW92ZXNcbiAgICAgICAgICAgICAgICB0aGlzLnBvc3NpYmxlTW92ZXMgPSB0aGlzLnBvc3NpYmxlTW92ZXMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgKFtyb3csIGNvbF0pID0+ICEocm93ID09PSBuciAmJiBjb2wgPT09IG5jKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSGVscGVyIGlmIG5vIHNoaXAgaGl0XG4gIHJhbmRvbUF0dGFjayhlbmVteUJvYXJkKSB7XG4gICAgaWYgKHRoaXMucG9zc2libGVNb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW92ZXMgbGVmdCcpO1xuICAgIH1cblxuICAgIC8vIEtlZXAgdHJ5aW5nIHVudGlsIHdlIGZpbmQgYSBjZWxsIHRoYXQgaGFzbid0IGJlZW4gYXR0YWNrZWQgeWV0XG4gICAgbGV0IGlkeDtcbiAgICBsZXQgcm93LCBjb2w7XG4gICAgbGV0IHNob3QgPSBudWxsO1xuICAgIGxldCBhdHRlbXB0ZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlICh0aGlzLnBvc3NpYmxlTW92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWR4ID0gZ2V0UmFuZG9tSW50QmV0d2VlbigwLCB0aGlzLnBvc3NpYmxlTW92ZXMubGVuZ3RoIC0gMSk7XG4gICAgICBbcm93LCBjb2xdID0gdGhpcy5wb3NzaWJsZU1vdmVzLnNwbGljZShpZHgsIDEpWzBdO1xuXG4gICAgICAvLyBJZiBlbmVteUJvYXJkLmdyaWQgZXhpc3RzLCBza2lwIGFscmVhZHkgYXR0YWNrZWQgY2VsbHNcbiAgICAgIGNvbnN0IGNlbGxWYWwgPSBlbmVteUJvYXJkPy5ncmlkPy5bcm93XT8uW2NvbF07XG4gICAgICBpZiAoY2VsbFZhbCA9PT0gJ2hpdCcgfHwgY2VsbFZhbCA9PT0gJ21pc3MnKSB7XG4gICAgICAgIC8vIEFscmVhZHkgYXR0YWNrZWQg4oCUIHNraXAgYW5kIGNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBUcnkgYXR0YWNrOyBpZiBpdCB0aHJvd3MsIG1hcmsgYXR0ZW1wdGVkIGFuZCBjb250aW51ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2hvdCA9IGVuZW15Qm9hcmQucmVjZWl2ZUF0dGFjayhyb3csIGNvbCk7XG4gICAgICAgIGF0dGVtcHRlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgYXR0ZW1wdGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gVHJ5IG5leHQgbW92ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gR290IGEgdmFsaWQgc2hvdCByZXN1bHQgKG1heSBiZSB1bmRlZmluZWQgaWYgdGVzdHMgbW9ja2VkIGl0KVxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKCFhdHRlbXB0ZWQpIHtcbiAgICAgIC8vIFdlIG5ldmVyIGNhbGxlZCByZWNlaXZlQXR0YWNrIGJlY2F1c2UgYWxsIHJlbWFpbmluZyBwb3NzaWJsZU1vdmVzIHdlcmUgc2tpcHBlZFxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtb3ZlcyBsZWZ0Jyk7XG4gICAgfVxuXG4gICAgLy8gU3dpdGNoIHRvIHRhcmdldCBtb2RlIG9ubHkgaWYgc2hpcCBpcyBoaXQgYnV0IGhhc24ndCBzdW5rIHlldFxuICAgIGlmIChzaG90Py5yZXN1bHQgPT09ICdoaXQnKSB7XG4gICAgICB0aGlzLm1vZGUgPSAndGFyZ2V0JztcbiAgICAgIHRoaXMubW92ZXNTdHJlYWsucHVzaChbcm93LCBjb2xdKTtcbiAgICB9XG4gICAgaWYgKHNob3Q/LnJlc3VsdCA9PT0gJ3N1bmsnKSB7XG4gICAgICB0aGlzLnJlbW92ZUFkamFjZW50VG9TdW5rU2hpcChzaG90LnNoaXAsIGVuZW15Qm9hcmQpO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdDtcbiAgfVxuXG4gIC8vIEhlbHBlciBmb3IgaW50ZWxpZ2VudCBhdHRhY2sgd2hlbiBzaGlwIGhpdFxuICAvLyBJTVBPUlRBTlQ6IFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgQVQgTU9TVCBPTkUgcmVhbCBhdHRhY2sgKG9uZSBjYWxsIHRvIGVuZW15Qm9hcmQucmVjZWl2ZUF0dGFjaykuXG4gIC8vIFRoYXQgYWxsb3dzIEdhbWUuc3RhcnRDcHVMb29wIHRvIHNjaGVkdWxlIGRlbGF5cyBiZXR3ZWVuIENQVSBzaG90cyAoZm9yIFVJL2FuaW1hdGlvbnMpLlxuICB0YXJnZXRBdHRhY2soZW5lbXlCb2FyZCkge1xuICAgIGxldCBzaG90ID0gbnVsbDtcbiAgICAvLyBJbiBjYXNlIHdlJ3JlIG5vdCBpbiB0YXJnZXQgbW9kZSwgZmFsbGJhY2sgdG8gcmFuZG9tXG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ3JhbmRvbScpIHJldHVybiB0aGlzLnJhbmRvbUF0dGFjayhlbmVteUJvYXJkKTtcblxuICAgIGlmICh0aGlzLm1vdmVzU3RyZWFrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhpcy5jYW5kaWRhdGVNb3ZlcyA9IFtdO1xuICAgICAgY29uc3QgW3JvdywgY29sXSA9IHRoaXMubW92ZXNTdHJlYWtbMF07XG5cbiAgICAgIC8vIFJlbW92ZSBkaWFnb25hbCBuZWlnaGJvciBwb3NpdGlvbnMgZnJvbSBwb3NzaWJsZU1vdmVzLCBhcyBzaGlwcyBjYW4ndCBoYXZlIHNlZ21lbnRzIHRoZXJlXG4gICAgICBjb25zdCBpbXBvc3NpYmxlUG9zID0gW1xuICAgICAgICBbMSwgMV0sXG4gICAgICAgIFstMSwgMV0sXG4gICAgICAgIFstMSwgLTFdLFxuICAgICAgICBbMSwgLTFdLFxuICAgICAgXTtcbiAgICAgIGZvciAobGV0IFtkciwgZGNdIG9mIGltcG9zc2libGVQb3MpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlUm93ID0gcm93ICsgZHI7XG4gICAgICAgIGNvbnN0IHJlbW92ZUNvbCA9IGNvbCArIGRjO1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLnBvc3NpYmxlTW92ZXMuZmluZEluZGV4KFxuICAgICAgICAgIChbciwgY10pID0+IHIgPT09IHJlbW92ZVJvdyAmJiBjID09PSByZW1vdmVDb2wsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5wb3NzaWJsZU1vdmVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvc3NpYmxlUG9zID0gW1xuICAgICAgICBbMSwgMF0sXG4gICAgICAgIFswLCAxXSxcbiAgICAgICAgWy0xLCAwXSxcbiAgICAgICAgWzAsIC0xXSxcbiAgICAgIF07XG5cbiAgICAgIGZvciAobGV0IFtkciwgZGNdIG9mIHBvc3NpYmxlUG9zKSB7XG4gICAgICAgIGNvbnN0IGluc2VydFJvdyA9IHJvdyArIGRyO1xuICAgICAgICBjb25zdCBpbnNlcnRDb2wgPSBjb2wgKyBkYztcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5wb3NzaWJsZU1vdmVzLmZpbmRJbmRleChcbiAgICAgICAgICAoW3IsIGNdKSA9PiByID09PSBpbnNlcnRSb3cgJiYgYyA9PT0gaW5zZXJ0Q29sLFxuICAgICAgICApO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMuY2FuZGlkYXRlTW92ZXMucHVzaChbaW5zZXJ0Um93LCBpbnNlcnRDb2xdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQZXJmb3JtIGF0IG1vc3QgT05FIGF0dGFjayBmcm9tIGNhbmRpZGF0ZU1vdmVzIChwaWNrIHJhbmRvbSlcbiAgICAgIGlmICh0aGlzLmNhbmRpZGF0ZU1vdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgaWR4ID0gZ2V0UmFuZG9tSW50QmV0d2VlbigwLCB0aGlzLmNhbmRpZGF0ZU1vdmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBbYXR0YWNrUm93LCBhdHRhY2tDb2xdID0gdGhpcy5jYW5kaWRhdGVNb3Zlcy5zcGxpY2UoaWR4LCAxKVswXTtcblxuICAgICAgICAvLyBkZWZlbnNpdmU6IGlmIGFscmVhZHkgYXR0YWNrZWQsIHNraXAgdGhpcyBhdHRlbXB0IChyZXR1cm4gdW5kZWZpbmVkIHNvIGdhbWVwbGF5IHdvbid0IHN3aXRjaCB0dXJuKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgZW5lbXlCb2FyZD8uZ3JpZD8uW2F0dGFja1Jvd10/LlthdHRhY2tDb2xdID09PSAnaGl0JyB8fFxuICAgICAgICAgIGVuZW15Qm9hcmQ/LmdyaWQ/LlthdHRhY2tSb3ddPy5bYXR0YWNrQ29sXSA9PT0gJ21pc3MnXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHNob3QgPSBlbmVteUJvYXJkLnJlY2VpdmVBdHRhY2soYXR0YWNrUm93LCBhdHRhY2tDb2wpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBvbiBlcnJvciwgZG9uJ3QgY2hhbmdlIHR1cm4g4oCUIGxldCBjcHUgbG9vcCB0cnkgYWdhaW4gbmV4dCB0aWNrXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG90Py5yZXN1bHQgPT09ICdoaXQnKSB7XG4gICAgICAgICAgdGhpcy5tb3Zlc1N0cmVhay5wdXNoKFthdHRhY2tSb3csIGF0dGFja0NvbF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG90Py5yZXN1bHQgPT09ICdzdW5rJykge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWRqYWNlbnRUb1N1bmtTaGlwKHNob3Quc2hpcCwgZW5lbXlCb2FyZCk7XG4gICAgICAgICAgdGhpcy5tb3Zlc1N0cmVhayA9IFtdO1xuICAgICAgICAgIHRoaXMubW9kZSA9ICdyYW5kb20nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGYWxsYmFjayBpZiBubyBjYW5kaWRhdGVNb3Zlc1xuICAgICAgICB0aGlzLm1vZGUgPSAncmFuZG9tJztcbiAgICAgICAgdGhpcy5tb3Zlc1N0cmVhayA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5kb21BdHRhY2soZW5lbXlCb2FyZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLm1vdmVzU3RyZWFrLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIERldGVybWluZSB0aGUgb3JpZW50YXRpb24gb2YgdGhlIHN0cmVha1xuICAgICAgY29uc3QgW3IxXSA9IHRoaXMubW92ZXNTdHJlYWtbMF07XG4gICAgICBjb25zdCBbcjJdID0gdGhpcy5tb3Zlc1N0cmVha1sxXTtcbiAgICAgIGNvbnN0IGlzVmVydGljYWwgPSByMSAhPT0gcjI7XG5cbiAgICAgIC8vIEZpbmQgdGhlIGVuZHMgb2YgdGhlIHN0cmVhayBhbmQgY2hlY2sgb25seSB0aGUgYWRqYWNlbnQgY2VsbHMgYXQgdGhlIGVuZHNcbiAgICAgIGxldCBlbmRzID0gW107XG4gICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICB0aGlzLm1vdmVzU3RyZWFrLnNvcnQoKFtyQV0sIFtyQl0pID0+IHJBIC0gckIpO1xuICAgICAgICBjb25zdCBoZWFkID0gdGhpcy5tb3Zlc1N0cmVha1swXTtcbiAgICAgICAgY29uc3QgdGFpbCA9IHRoaXMubW92ZXNTdHJlYWtbdGhpcy5tb3Zlc1N0cmVhay5sZW5ndGggLSAxXTtcbiAgICAgICAgZW5kcyA9IFtcbiAgICAgICAgICBbaGVhZFswXSAtIDEsIGhlYWRbMV1dLFxuICAgICAgICAgIFt0YWlsWzBdICsgMSwgdGFpbFsxXV0sXG4gICAgICAgIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1vdmVzU3RyZWFrLnNvcnQoKFssIGNBXSwgWywgY0JdKSA9PiBjQSAtIGNCKTtcbiAgICAgICAgY29uc3QgaGVhZCA9IHRoaXMubW92ZXNTdHJlYWtbMF07XG4gICAgICAgIGNvbnN0IHRhaWwgPSB0aGlzLm1vdmVzU3RyZWFrW3RoaXMubW92ZXNTdHJlYWsubGVuZ3RoIC0gMV07XG4gICAgICAgIGVuZHMgPSBbXG4gICAgICAgICAgW2hlYWRbMF0sIGhlYWRbMV0gLSAxXSxcbiAgICAgICAgICBbdGFpbFswXSwgdGFpbFsxXSArIDFdLFxuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBvbmx5IHRoZSBjZWxscyBhdCB0aGUgZW5kcyBvZiB0aGUgc3RyZWFrIGZvciBwb3NzaWJsZSBtb3Zlc1xuICAgICAgdGhpcy5jYW5kaWRhdGVNb3ZlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgW3IsIGNdIG9mIGVuZHMpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5wb3NzaWJsZU1vdmVzLmZpbmRJbmRleCgoW3JyLCBjY10pID0+IHJyID09PSByICYmIGNjID09PSBjKTtcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHRoaXMuY2FuZGlkYXRlTW92ZXMucHVzaChbciwgY10pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jYW5kaWRhdGVNb3Zlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHBpY2sgYSBzaW5nbGUgY2FuZGlkYXRlIGFuZCBwZXJmb3JtIGF0IG1vc3Qgb25lIGF0dGFja1xuICAgICAgICBjb25zdCBpZHggPSBnZXRSYW5kb21JbnRCZXR3ZWVuKDAsIHRoaXMuY2FuZGlkYXRlTW92ZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIGNvbnN0IFthdHRhY2tSb3csIGF0dGFja0NvbF0gPSB0aGlzLmNhbmRpZGF0ZU1vdmVzLnNwbGljZShpZHgsIDEpWzBdO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBlbmVteUJvYXJkPy5ncmlkPy5bYXR0YWNrUm93XT8uW2F0dGFja0NvbF0gPT09ICdoaXQnIHx8XG4gICAgICAgICAgZW5lbXlCb2FyZD8uZ3JpZD8uW2F0dGFja1Jvd10/LlthdHRhY2tDb2xdID09PSAnbWlzcydcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2hvdCA9IGVuZW15Qm9hcmQucmVjZWl2ZUF0dGFjayhhdHRhY2tSb3csIGF0dGFja0NvbCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvdD8ucmVzdWx0ID09PSAnaGl0Jykge1xuICAgICAgICAgIHRoaXMubW92ZXNTdHJlYWsucHVzaChbYXR0YWNrUm93LCBhdHRhY2tDb2xdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdD8ucmVzdWx0ID09PSAnc3VuaycpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFkamFjZW50VG9TdW5rU2hpcChzaG90LnNoaXAsIGVuZW15Qm9hcmQpO1xuICAgICAgICAgIHRoaXMubW92ZXNTdHJlYWsgPSBbXTtcbiAgICAgICAgICB0aGlzLm1vZGUgPSAncmFuZG9tJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZmFsbGJhY2tcbiAgICAgICAgdGhpcy5tb2RlID0gJ3JhbmRvbSc7XG4gICAgICAgIHRoaXMubW92ZXNTdHJlYWsgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZG9tQXR0YWNrKGVuZW15Qm9hcmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIG5vIGF0dGFjayB3YXMgbWFkZSBhYm92ZSwgcmFuZG9tQXR0YWNrIHdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBmaW5hbCByZXR1cm4gYmVsb3dcbiAgICByZXR1cm4gc2hvdCB8fCB0aGlzLnJhbmRvbUF0dGFjayhlbmVteUJvYXJkKTtcbiAgfVxuXG4gIC8vIE1haW4gYXR0YWNrIG1ldGhvZFxuICBhdHRhY2soZW5lbXlCb2FyZCkge1xuICAgIGlmICh0aGlzLm1vZGUgPT09ICdyYW5kb20nKSByZXR1cm4gdGhpcy5yYW5kb21BdHRhY2soZW5lbXlCb2FyZCk7XG4gICAgZWxzZSByZXR1cm4gdGhpcy50YXJnZXRBdHRhY2soZW5lbXlCb2FyZCk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/engine/players.js\n\n}");

/***/ },

/***/ "./src/engine/ship.js"
/*!****************************!*\
  !*** ./src/engine/ship.js ***!
  \****************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ship: () => (/* binding */ Ship)\n/* harmony export */ });\nclass Ship {\n  constructor(length, vertical = false) {\n    if (length < 1 || length > 4) {\n      throw new Error('Ship length must be between 1 & 4');\n    }\n    this.length = length;\n    this.vertical = vertical;\n    this.hitsReceived = 0;\n\n    if (this.length === 4) this.type = '4-masted ship';\n    else if (this.length === 3) this.type = '3-masted ship';\n    else if (this.length === 2) this.type = '2-masted ship';\n    else if (this.length === 1) this.type = '1-masted ship';\n  }\n\n  hit() {\n    if (this.hitsReceived < this.length) {\n      this.hitsReceived++;\n    }\n  }\n\n  isSunk() {\n    return this.hitsReceived >= this.length;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW5naW5lL3NoaXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9lbmdpbmUvc2hpcC5qcz8yOGIxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTaGlwIHtcbiAgY29uc3RydWN0b3IobGVuZ3RoLCB2ZXJ0aWNhbCA9IGZhbHNlKSB7XG4gICAgaWYgKGxlbmd0aCA8IDEgfHwgbGVuZ3RoID4gNCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGlwIGxlbmd0aCBtdXN0IGJlIGJldHdlZW4gMSAmIDQnKTtcbiAgICB9XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy52ZXJ0aWNhbCA9IHZlcnRpY2FsO1xuICAgIHRoaXMuaGl0c1JlY2VpdmVkID0gMDtcblxuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gNCkgdGhpcy50eXBlID0gJzQtbWFzdGVkIHNoaXAnO1xuICAgIGVsc2UgaWYgKHRoaXMubGVuZ3RoID09PSAzKSB0aGlzLnR5cGUgPSAnMy1tYXN0ZWQgc2hpcCc7XG4gICAgZWxzZSBpZiAodGhpcy5sZW5ndGggPT09IDIpIHRoaXMudHlwZSA9ICcyLW1hc3RlZCBzaGlwJztcbiAgICBlbHNlIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy50eXBlID0gJzEtbWFzdGVkIHNoaXAnO1xuICB9XG5cbiAgaGl0KCkge1xuICAgIGlmICh0aGlzLmhpdHNSZWNlaXZlZCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmhpdHNSZWNlaXZlZCsrO1xuICAgIH1cbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICByZXR1cm4gdGhpcy5oaXRzUmVjZWl2ZWQgPj0gdGhpcy5sZW5ndGg7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/engine/ship.js\n\n}");

/***/ },

/***/ "./src/engine/utils.js"
/*!*****************************!*\
  !*** ./src/engine/utils.js ***!
  \*****************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRandomIntBetween: () => (/* binding */ getRandomIntBetween)\n/* harmony export */ });\nfunction getRandomIntBetween(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW5naW5lL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2VuZ2luZS91dGlscy5qcz8xYzQwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRCZXR3ZWVuKG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/engine/utils.js\n\n}");

/***/ },

/***/ "./src/index.js"
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modern_normalize_min_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modern-normalize.min.css */ \"./src/modern-normalize.min.css\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style.css */ \"./src/style.css\");\n/* harmony import */ var _ui_init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/init */ \"./src/ui/init.js\");\n\n\n\n\n\n(0,_ui_init__WEBPACK_IMPORTED_MODULE_2__.init)();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFvQztBQUNmOztBQUVZOztBQUVqQyw4Q0FBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vbW9kZXJuLW5vcm1hbGl6ZS5taW4uY3NzJztcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG5pbXBvcnQgeyBpbml0IH0gZnJvbSAnLi91aS9pbml0JztcblxuaW5pdCgpO1xuXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n\n}");

/***/ },

/***/ "./src/modern-normalize.min.css"
/*!**************************************!*\
  !*** ./src/modern-normalize.min.css ***!
  \**************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZXJuLW5vcm1hbGl6ZS5taW4uY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbW9kZXJuLW5vcm1hbGl6ZS5taW4uY3NzPzNhZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modern-normalize.min.css\n\n}");

/***/ },

/***/ "./src/style.css"
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGUuY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzP2UzMjAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/style.css\n\n}");

/***/ },

/***/ "./src/ui/eventListeners.js"
/*!**********************************!*\
  !*** ./src/ui/eventListeners.js ***!
  \**********************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setListeners: () => (/* binding */ setListeners)\n/* harmony export */ });\n/* harmony import */ var _renderBoard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderBoard */ \"./src/ui/renderBoard.js\");\n/* harmony import */ var _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uiConfig.js */ \"./src/ui/uiConfig.js\");\n\n\n\n// setListeners(game, messageBoard) - attach delegated click listener for CPU board clicks.\n// Uses event delegation and uses message durations to pace CPU.\nfunction setListeners(game, messageBoard) {\n  if (document._cpuCellClickListenerAttached) return;\n  document._cpuCellClickListenerAttached = true;\n\n  document.addEventListener('click', (e) => {\n    const cell = e.target.closest('#cpu-container .board-container .cell');\n    if (!cell) return;\n\n    if (document.body.classList.contains('blocked')) return;\n    if (game.gameOver) return;\n    if (game.onTheMove !== game.player1) return;\n\n    const x = Number(cell.dataset.x);\n    const y = Number(cell.dataset.y);\n    const arr = game.cpu.gameboard.grid;\n    if (arr[x][y] === 'hit' || arr[x][y] === 'miss') return;\n\n    const prevMove = game.onTheMove;\n    let shot;\n    try {\n      shot = game.player1Move(x, y);\n    } catch {\n      return;\n    }\n\n    // Render CPU board first so visual hit/miss is visible\n    (0,_renderBoard__WEBPACK_IMPORTED_MODULE_0__.updateGrid)(game.cpu);\n\n    // Show message corresponding to shot (immediate)\n    if (shot?.result === 'hit') {\n      messageBoard.show(\n        `${game.player1.name} hit the opponent's ship!`,\n        _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.hit,\n      );\n    } else if (shot?.result === 'sunk') {\n      messageBoard.show(\n        `${game.player1.name} sunk the opponent's ${shot.ship.type}!`,\n        _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.sunk,\n      );\n    } else if (shot?.result === 'miss') {\n      messageBoard.show(`${game.player1.name} missed!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.miss);\n    } else if (shot?.gameResult) {\n      // Player1 won\n      messageBoard.allSunk(game.player1);\n    } else if (shot?.error) {\n      messageBoard.show(`Error: ${shot.error}`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.error);\n    }\n\n    // If player's miss transferred control to CPU, start cpu loop (deferred) that uses durations returned by callback\n    if (\n      prevMove === game.player1 &&\n      game.onTheMove === game.cpu &&\n      !game.gameOver\n    ) {\n      const baseDelay = _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.miss;\n      // Defer starting the CPU loop one tick so browser can paint the player's message\n      setTimeout(() => {\n        game.startCpuLoop(baseDelay, (cpuShot) => {\n          if (!cpuShot) return baseDelay;\n\n          // Update player grid first\n          (0,_renderBoard__WEBPACK_IMPORTED_MODULE_0__.updateGrid)(game.player1);\n\n          // Show message and return duration for next loop iteration\n          if (cpuShot.result === 'miss') {\n            messageBoard.show(`${game.cpu.name} missed!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.miss);\n            return _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.miss;\n          } else if (cpuShot.result === 'hit') {\n            messageBoard.show(\n              `${game.cpu.name} hit your ship!`,\n              _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.hit,\n            );\n            return _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.hit;\n          } else if (cpuShot.result === 'sunk') {\n            messageBoard.show(\n              `${game.cpu.name} sunk your ${cpuShot.ship.type}!`,\n              _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.sunk,\n            );\n            return _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.sunk;\n          } else if (cpuShot.gameResult) {\n            // CPU won\n            messageBoard.allSunk(game.cpu);\n            return _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.gameOver;\n          } else if (cpuShot.error) {\n            messageBoard.show(`Error: ${cpuShot.error}`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.error);\n            return _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.error;\n          }\n\n          return baseDelay;\n        });\n      }, _uiConfig_js__WEBPACK_IMPORTED_MODULE_1__.UI_DURATIONS.miss);\n    }\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvZXZlbnRMaXN0ZW5lcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ0U7O0FBRTdDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsSUFBSSx3REFBVTs7QUFFZDtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixRQUFRLHNEQUFZO0FBQ3BCO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsV0FBVyxtQkFBbUIsc0JBQXNCLGVBQWU7QUFDbkUsUUFBUSxzREFBWTtBQUNwQjtBQUNBLE1BQU07QUFDTiwyQkFBMkIsbUJBQW1CLFVBQVUsc0RBQVk7QUFDcEUsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ04sa0NBQWtDLFdBQVcsR0FBRyxzREFBWTtBQUM1RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVLHdEQUFVOztBQUVwQjtBQUNBO0FBQ0EsaUNBQWlDLGVBQWUsVUFBVSxzREFBWTtBQUN0RSxtQkFBbUIsc0RBQVk7QUFDL0IsWUFBWTtBQUNaO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEMsY0FBYyxzREFBWTtBQUMxQjtBQUNBLG1CQUFtQixzREFBWTtBQUMvQixZQUFZO0FBQ1o7QUFDQSxpQkFBaUIsZUFBZSxZQUFZLGtCQUFrQjtBQUM5RCxjQUFjLHNEQUFZO0FBQzFCO0FBQ0EsbUJBQW1CLHNEQUFZO0FBQy9CLFlBQVk7QUFDWjtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFZO0FBQy9CLFlBQVk7QUFDWix3Q0FBd0MsY0FBYyxHQUFHLHNEQUFZO0FBQ3JFLG1CQUFtQixzREFBWTtBQUMvQjs7QUFFQTtBQUNBLFNBQVM7QUFDVCxPQUFPLEVBQUUsc0RBQVk7QUFDckI7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3VpL2V2ZW50TGlzdGVuZXJzLmpzPzU0ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXBkYXRlR3JpZCB9IGZyb20gJy4vcmVuZGVyQm9hcmQnO1xuaW1wb3J0IHsgVUlfRFVSQVRJT05TIH0gZnJvbSAnLi91aUNvbmZpZy5qcyc7XG5cbi8vIHNldExpc3RlbmVycyhnYW1lLCBtZXNzYWdlQm9hcmQpIC0gYXR0YWNoIGRlbGVnYXRlZCBjbGljayBsaXN0ZW5lciBmb3IgQ1BVIGJvYXJkIGNsaWNrcy5cbi8vIFVzZXMgZXZlbnQgZGVsZWdhdGlvbiBhbmQgdXNlcyBtZXNzYWdlIGR1cmF0aW9ucyB0byBwYWNlIENQVS5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMaXN0ZW5lcnMoZ2FtZSwgbWVzc2FnZUJvYXJkKSB7XG4gIGlmIChkb2N1bWVudC5fY3B1Q2VsbENsaWNrTGlzdGVuZXJBdHRhY2hlZCkgcmV0dXJuO1xuICBkb2N1bWVudC5fY3B1Q2VsbENsaWNrTGlzdGVuZXJBdHRhY2hlZCA9IHRydWU7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IGNlbGwgPSBlLnRhcmdldC5jbG9zZXN0KCcjY3B1LWNvbnRhaW5lciAuYm9hcmQtY29udGFpbmVyIC5jZWxsJyk7XG4gICAgaWYgKCFjZWxsKSByZXR1cm47XG5cbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrZWQnKSkgcmV0dXJuO1xuICAgIGlmIChnYW1lLmdhbWVPdmVyKSByZXR1cm47XG4gICAgaWYgKGdhbWUub25UaGVNb3ZlICE9PSBnYW1lLnBsYXllcjEpIHJldHVybjtcblxuICAgIGNvbnN0IHggPSBOdW1iZXIoY2VsbC5kYXRhc2V0LngpO1xuICAgIGNvbnN0IHkgPSBOdW1iZXIoY2VsbC5kYXRhc2V0LnkpO1xuICAgIGNvbnN0IGFyciA9IGdhbWUuY3B1LmdhbWVib2FyZC5ncmlkO1xuICAgIGlmIChhcnJbeF1beV0gPT09ICdoaXQnIHx8IGFyclt4XVt5XSA9PT0gJ21pc3MnKSByZXR1cm47XG5cbiAgICBjb25zdCBwcmV2TW92ZSA9IGdhbWUub25UaGVNb3ZlO1xuICAgIGxldCBzaG90O1xuICAgIHRyeSB7XG4gICAgICBzaG90ID0gZ2FtZS5wbGF5ZXIxTW92ZSh4LCB5KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXIgQ1BVIGJvYXJkIGZpcnN0IHNvIHZpc3VhbCBoaXQvbWlzcyBpcyB2aXNpYmxlXG4gICAgdXBkYXRlR3JpZChnYW1lLmNwdSk7XG5cbiAgICAvLyBTaG93IG1lc3NhZ2UgY29ycmVzcG9uZGluZyB0byBzaG90IChpbW1lZGlhdGUpXG4gICAgaWYgKHNob3Q/LnJlc3VsdCA9PT0gJ2hpdCcpIHtcbiAgICAgIG1lc3NhZ2VCb2FyZC5zaG93KFxuICAgICAgICBgJHtnYW1lLnBsYXllcjEubmFtZX0gaGl0IHRoZSBvcHBvbmVudCdzIHNoaXAhYCxcbiAgICAgICAgVUlfRFVSQVRJT05TLmhpdCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChzaG90Py5yZXN1bHQgPT09ICdzdW5rJykge1xuICAgICAgbWVzc2FnZUJvYXJkLnNob3coXG4gICAgICAgIGAke2dhbWUucGxheWVyMS5uYW1lfSBzdW5rIHRoZSBvcHBvbmVudCdzICR7c2hvdC5zaGlwLnR5cGV9IWAsXG4gICAgICAgIFVJX0RVUkFUSU9OUy5zdW5rLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHNob3Q/LnJlc3VsdCA9PT0gJ21pc3MnKSB7XG4gICAgICBtZXNzYWdlQm9hcmQuc2hvdyhgJHtnYW1lLnBsYXllcjEubmFtZX0gbWlzc2VkIWAsIFVJX0RVUkFUSU9OUy5taXNzKTtcbiAgICB9IGVsc2UgaWYgKHNob3Q/LmdhbWVSZXN1bHQpIHtcbiAgICAgIC8vIFBsYXllcjEgd29uXG4gICAgICBtZXNzYWdlQm9hcmQuYWxsU3VuayhnYW1lLnBsYXllcjEpO1xuICAgIH0gZWxzZSBpZiAoc2hvdD8uZXJyb3IpIHtcbiAgICAgIG1lc3NhZ2VCb2FyZC5zaG93KGBFcnJvcjogJHtzaG90LmVycm9yfWAsIFVJX0RVUkFUSU9OUy5lcnJvcik7XG4gICAgfVxuXG4gICAgLy8gSWYgcGxheWVyJ3MgbWlzcyB0cmFuc2ZlcnJlZCBjb250cm9sIHRvIENQVSwgc3RhcnQgY3B1IGxvb3AgKGRlZmVycmVkKSB0aGF0IHVzZXMgZHVyYXRpb25zIHJldHVybmVkIGJ5IGNhbGxiYWNrXG4gICAgaWYgKFxuICAgICAgcHJldk1vdmUgPT09IGdhbWUucGxheWVyMSAmJlxuICAgICAgZ2FtZS5vblRoZU1vdmUgPT09IGdhbWUuY3B1ICYmXG4gICAgICAhZ2FtZS5nYW1lT3ZlclxuICAgICkge1xuICAgICAgY29uc3QgYmFzZURlbGF5ID0gVUlfRFVSQVRJT05TLm1pc3M7XG4gICAgICAvLyBEZWZlciBzdGFydGluZyB0aGUgQ1BVIGxvb3Agb25lIHRpY2sgc28gYnJvd3NlciBjYW4gcGFpbnQgdGhlIHBsYXllcidzIG1lc3NhZ2VcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBnYW1lLnN0YXJ0Q3B1TG9vcChiYXNlRGVsYXksIChjcHVTaG90KSA9PiB7XG4gICAgICAgICAgaWYgKCFjcHVTaG90KSByZXR1cm4gYmFzZURlbGF5O1xuXG4gICAgICAgICAgLy8gVXBkYXRlIHBsYXllciBncmlkIGZpcnN0XG4gICAgICAgICAgdXBkYXRlR3JpZChnYW1lLnBsYXllcjEpO1xuXG4gICAgICAgICAgLy8gU2hvdyBtZXNzYWdlIGFuZCByZXR1cm4gZHVyYXRpb24gZm9yIG5leHQgbG9vcCBpdGVyYXRpb25cbiAgICAgICAgICBpZiAoY3B1U2hvdC5yZXN1bHQgPT09ICdtaXNzJykge1xuICAgICAgICAgICAgbWVzc2FnZUJvYXJkLnNob3coYCR7Z2FtZS5jcHUubmFtZX0gbWlzc2VkIWAsIFVJX0RVUkFUSU9OUy5taXNzKTtcbiAgICAgICAgICAgIHJldHVybiBVSV9EVVJBVElPTlMubWlzcztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNwdVNob3QucmVzdWx0ID09PSAnaGl0Jykge1xuICAgICAgICAgICAgbWVzc2FnZUJvYXJkLnNob3coXG4gICAgICAgICAgICAgIGAke2dhbWUuY3B1Lm5hbWV9IGhpdCB5b3VyIHNoaXAhYCxcbiAgICAgICAgICAgICAgVUlfRFVSQVRJT05TLmhpdCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gVUlfRFVSQVRJT05TLmhpdDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNwdVNob3QucmVzdWx0ID09PSAnc3VuaycpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VCb2FyZC5zaG93KFxuICAgICAgICAgICAgICBgJHtnYW1lLmNwdS5uYW1lfSBzdW5rIHlvdXIgJHtjcHVTaG90LnNoaXAudHlwZX0hYCxcbiAgICAgICAgICAgICAgVUlfRFVSQVRJT05TLnN1bmssXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIFVJX0RVUkFUSU9OUy5zdW5rO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY3B1U2hvdC5nYW1lUmVzdWx0KSB7XG4gICAgICAgICAgICAvLyBDUFUgd29uXG4gICAgICAgICAgICBtZXNzYWdlQm9hcmQuYWxsU3VuayhnYW1lLmNwdSk7XG4gICAgICAgICAgICByZXR1cm4gVUlfRFVSQVRJT05TLmdhbWVPdmVyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY3B1U2hvdC5lcnJvcikge1xuICAgICAgICAgICAgbWVzc2FnZUJvYXJkLnNob3coYEVycm9yOiAke2NwdVNob3QuZXJyb3J9YCwgVUlfRFVSQVRJT05TLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBVSV9EVVJBVElPTlMuZXJyb3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGJhc2VEZWxheTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBVSV9EVVJBVElPTlMubWlzcyk7XG4gICAgfVxuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/eventListeners.js\n\n}");

/***/ },

/***/ "./src/ui/infoDisplay.js"
/*!*******************************!*\
  !*** ./src/ui/infoDisplay.js ***!
  \*******************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageBoard: () => (/* binding */ MessageBoard)\n/* harmony export */ });\n/* harmony import */ var _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./uiConfig.js */ \"./src/ui/uiConfig.js\");\n\n\nclass MessageBoard {\n  constructor(containerElement = null, showDelay = 500) {\n    this.container = containerElement;\n    this.showDelay = showDelay;\n    this._showTimer = null;\n    this._hideTimer = null;\n  }\n\n  _getContainer() {\n    if (!this.container) {\n      this.container = document.getElementById('info-container');\n    }\n    return this.container;\n  }\n\n  _clearTimers() {\n    if (this._showTimer) {\n      clearTimeout(this._showTimer);\n      this._showTimer = null;\n    }\n    if (this._hideTimer) {\n      clearTimeout(this._hideTimer);\n      this._hideTimer = null;\n    }\n  }\n\n  // Show immediately and optionally auto-hide after duration (ms)\n  show(html, duration = null) {\n    const container = this._getContainer();\n    if (!container) return;\n\n    this._clearTimers();\n    container.innerHTML = html;\n    container.classList.add('visible');\n\n    // Block clicks globally while message is visible\n    if (typeof document !== 'undefined' && document.body) {\n      document.body.classList.add('blocked');\n    }\n\n    if (typeof duration === 'number' && duration > 0) {\n      this._hideTimer = setTimeout(() => {\n        this.hide();\n      }, duration);\n    }\n  }\n\n  // Immediately hide (remove visible class). Does not clear content.\n  hide() {\n    const container = this._getContainer();\n    if (!container) return;\n\n    this._clearTimers();\n    container.classList.remove('visible');\n\n    if (typeof document !== 'undefined' && document.body) {\n      document.body.classList.remove('blocked');\n    }\n  }\n\n  // Show after configured delay (useful for welcome/placeShips)\n  _delayedShow(html, duration = null) {\n    this._clearTimers();\n    this._showTimer = setTimeout(\n      () => this.show(html, duration),\n      this.showDelay,\n    );\n  }\n\n  // Public convenience methods — show immediately (no extra delay)\n  welcome() {\n    this.hide();\n    this._delayedShow('Battleship 1.0.0 by 8b', _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.start);\n  }\n\n  placeShips() {\n    this.hide();\n    this._delayedShow(\n      `Place your ships on the board (change orientation by clicking on the ship) <br> or use button: <button id=\"place-ships-btn\">Random</button>`,\n      _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.placeShips,\n    );\n  }\n\n  miss(player) {\n    this.show(`${player.name} missed!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.miss);\n  }\n\n  accurate(player) {\n    this.show(`${player.name} hit the opponent's ship!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.hit);\n  }\n\n  sunk(player, ship) {\n    this.show(\n      `${player.name} sunk the opponent's ${ship.type}!`,\n      _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.sunk,\n    );\n  }\n\n  allSunk(player) {\n    this.show(\n      `${player.name} sunk the entire opponent's fleet! <button id=\"rematch-btn\">Rematch</button>`,\n      _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.gameOver,\n    );\n  }\n\n  error(text) {\n    this.show(`Error: ${text}`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_0__.UI_DURATIONS.error);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvaW5mb0Rpc3BsYXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkM7O0FBRXRDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxzREFBWTtBQUM1RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0RBQVk7QUFDbEI7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixhQUFhLFVBQVUsc0RBQVk7QUFDcEQ7O0FBRUE7QUFDQSxpQkFBaUIsYUFBYSwyQkFBMkIsc0RBQVk7QUFDckU7O0FBRUE7QUFDQTtBQUNBLFNBQVMsYUFBYSxzQkFBc0IsVUFBVTtBQUN0RCxNQUFNLHNEQUFZO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsYUFBYTtBQUN0QixNQUFNLHNEQUFZO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsS0FBSyxHQUFHLHNEQUFZO0FBQzVDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3VpL2luZm9EaXNwbGF5LmpzP2ZkZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVUlfRFVSQVRJT05TIH0gZnJvbSAnLi91aUNvbmZpZy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlQm9hcmQge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJFbGVtZW50ID0gbnVsbCwgc2hvd0RlbGF5ID0gNTAwKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJFbGVtZW50O1xuICAgIHRoaXMuc2hvd0RlbGF5ID0gc2hvd0RlbGF5O1xuICAgIHRoaXMuX3Nob3dUaW1lciA9IG51bGw7XG4gICAgdGhpcy5faGlkZVRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIF9nZXRDb250YWluZXIoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mby1jb250YWluZXInKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbiAgX2NsZWFyVGltZXJzKCkge1xuICAgIGlmICh0aGlzLl9zaG93VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltZXIpO1xuICAgICAgdGhpcy5fc2hvd1RpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2hpZGVUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lcik7XG4gICAgICB0aGlzLl9oaWRlVGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNob3cgaW1tZWRpYXRlbHkgYW5kIG9wdGlvbmFsbHkgYXV0by1oaWRlIGFmdGVyIGR1cmF0aW9uIChtcylcbiAgc2hvdyhodG1sLCBkdXJhdGlvbiA9IG51bGwpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9nZXRDb250YWluZXIoKTtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgdGhpcy5fY2xlYXJUaW1lcnMoKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgLy8gQmxvY2sgY2xpY2tzIGdsb2JhbGx5IHdoaWxlIG1lc3NhZ2UgaXMgdmlzaWJsZVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmxvY2tlZCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdudW1iZXInICYmIGR1cmF0aW9uID4gMCkge1xuICAgICAgdGhpcy5faGlkZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfSwgZHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEltbWVkaWF0ZWx5IGhpZGUgKHJlbW92ZSB2aXNpYmxlIGNsYXNzKS4gRG9lcyBub3QgY2xlYXIgY29udGVudC5cbiAgaGlkZSgpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9nZXRDb250YWluZXIoKTtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgdGhpcy5fY2xlYXJUaW1lcnMoKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuYm9keSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdibG9ja2VkJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2hvdyBhZnRlciBjb25maWd1cmVkIGRlbGF5ICh1c2VmdWwgZm9yIHdlbGNvbWUvcGxhY2VTaGlwcylcbiAgX2RlbGF5ZWRTaG93KGh0bWwsIGR1cmF0aW9uID0gbnVsbCkge1xuICAgIHRoaXMuX2NsZWFyVGltZXJzKCk7XG4gICAgdGhpcy5fc2hvd1RpbWVyID0gc2V0VGltZW91dChcbiAgICAgICgpID0+IHRoaXMuc2hvdyhodG1sLCBkdXJhdGlvbiksXG4gICAgICB0aGlzLnNob3dEZWxheSxcbiAgICApO1xuICB9XG5cbiAgLy8gUHVibGljIGNvbnZlbmllbmNlIG1ldGhvZHMg4oCUIHNob3cgaW1tZWRpYXRlbHkgKG5vIGV4dHJhIGRlbGF5KVxuICB3ZWxjb21lKCkge1xuICAgIHRoaXMuaGlkZSgpO1xuICAgIHRoaXMuX2RlbGF5ZWRTaG93KCdCYXR0bGVzaGlwIDEuMC4wIGJ5IDhiJywgVUlfRFVSQVRJT05TLnN0YXJ0KTtcbiAgfVxuXG4gIHBsYWNlU2hpcHMoKSB7XG4gICAgdGhpcy5oaWRlKCk7XG4gICAgdGhpcy5fZGVsYXllZFNob3coXG4gICAgICBgUGxhY2UgeW91ciBzaGlwcyBvbiB0aGUgYm9hcmQgKGNoYW5nZSBvcmllbnRhdGlvbiBieSBjbGlja2luZyBvbiB0aGUgc2hpcCkgPGJyPiBvciB1c2UgYnV0dG9uOiA8YnV0dG9uIGlkPVwicGxhY2Utc2hpcHMtYnRuXCI+UmFuZG9tPC9idXR0b24+YCxcbiAgICAgIFVJX0RVUkFUSU9OUy5wbGFjZVNoaXBzLFxuICAgICk7XG4gIH1cblxuICBtaXNzKHBsYXllcikge1xuICAgIHRoaXMuc2hvdyhgJHtwbGF5ZXIubmFtZX0gbWlzc2VkIWAsIFVJX0RVUkFUSU9OUy5taXNzKTtcbiAgfVxuXG4gIGFjY3VyYXRlKHBsYXllcikge1xuICAgIHRoaXMuc2hvdyhgJHtwbGF5ZXIubmFtZX0gaGl0IHRoZSBvcHBvbmVudCdzIHNoaXAhYCwgVUlfRFVSQVRJT05TLmhpdCk7XG4gIH1cblxuICBzdW5rKHBsYXllciwgc2hpcCkge1xuICAgIHRoaXMuc2hvdyhcbiAgICAgIGAke3BsYXllci5uYW1lfSBzdW5rIHRoZSBvcHBvbmVudCdzICR7c2hpcC50eXBlfSFgLFxuICAgICAgVUlfRFVSQVRJT05TLnN1bmssXG4gICAgKTtcbiAgfVxuXG4gIGFsbFN1bmsocGxheWVyKSB7XG4gICAgdGhpcy5zaG93KFxuICAgICAgYCR7cGxheWVyLm5hbWV9IHN1bmsgdGhlIGVudGlyZSBvcHBvbmVudCdzIGZsZWV0ISA8YnV0dG9uIGlkPVwicmVtYXRjaC1idG5cIj5SZW1hdGNoPC9idXR0b24+YCxcbiAgICAgIFVJX0RVUkFUSU9OUy5nYW1lT3ZlcixcbiAgICApO1xuICB9XG5cbiAgZXJyb3IodGV4dCkge1xuICAgIHRoaXMuc2hvdyhgRXJyb3I6ICR7dGV4dH1gLCBVSV9EVVJBVElPTlMuZXJyb3IpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/ui/infoDisplay.js\n\n}");

/***/ },

/***/ "./src/ui/init.js"
/*!************************!*\
  !*** ./src/ui/init.js ***!
  \************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   init: () => (/* binding */ init)\n/* harmony export */ });\n/* harmony import */ var _engine_gameplay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/gameplay */ \"./src/engine/gameplay.js\");\n/* harmony import */ var _engine_ship_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../engine/ship.js */ \"./src/engine/ship.js\");\n/* harmony import */ var _renderBoard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./renderBoard */ \"./src/ui/renderBoard.js\");\n/* harmony import */ var _eventListeners__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eventListeners */ \"./src/ui/eventListeners.js\");\n/* harmony import */ var _infoDisplay_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./infoDisplay.js */ \"./src/ui/infoDisplay.js\");\n/* harmony import */ var _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./uiConfig.js */ \"./src/ui/uiConfig.js\");\n\n\n\n\n\n\n\nfunction init() {\n  const game = new _engine_gameplay__WEBPACK_IMPORTED_MODULE_0__.Game();\n\n  (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.resetGrid)(game.cpu);\n  (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.resetGrid)(game.player1);\n\n  const messageBoard = new _infoDisplay_js__WEBPACK_IMPORTED_MODULE_4__.MessageBoard(\n    document.getElementById('info-container'),\n  );\n\n  const fleetContainer = document.querySelector('.fleet-container');\n  const initialFleetMarkup = fleetContainer?.innerHTML || '';\n\n  const hideFleetContainer = () => {\n    if (fleetContainer) fleetContainer.classList.add('fleet-hidden');\n  };\n  const showFleetContainer = () => {\n    if (fleetContainer) fleetContainer.classList.remove('fleet-hidden');\n  };\n\n  // Hide fleet until placeShips prompt appears\n  hideFleetContainer();\n\n  // Show welcome first\n  messageBoard.welcome();\n\n  // Schedule placeShips after welcome finishes\n  const smallGap = 200;\n  const welcomeDelay =\n    (messageBoard.showDelay || 0) + (_uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.start || 0) + smallGap;\n  setTimeout(() => {\n    messageBoard.placeShips();\n    showFleetContainer();\n  }, welcomeDelay);\n\n  // CPU places ships immediately\n  game.cpu.randomShipsPlacement();\n  (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.updateGrid)(game.cpu);\n\n  let listenersAttached = false;\n  let battleStarted = false;\n\n  const attachGameListenersAfterPlayerPlaced = () => {\n    if (!listenersAttached) {\n      (0,_eventListeners__WEBPACK_IMPORTED_MODULE_3__.setListeners)(game, messageBoard);\n      listenersAttached = true;\n    }\n  };\n\n  const cpuLoopCallback = (cpuShot) => {\n    const baseDelay = _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.miss;\n    if (!cpuShot) return baseDelay;\n\n    (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.updateGrid)(game.player1);\n\n    if (cpuShot.result === 'miss') {\n      messageBoard.show(`${game.cpu.name} missed!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.miss);\n      return _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.miss;\n    } else if (cpuShot.result === 'hit') {\n      messageBoard.show(`${game.cpu.name} hit your ship!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.hit);\n      return _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.hit;\n    } else if (cpuShot.result === 'sunk') {\n      messageBoard.show(\n        `${game.cpu.name} sunk your ${cpuShot.ship.type}!`,\n        _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.sunk,\n      );\n      return _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.sunk;\n    } else if (cpuShot.gameResult) {\n      messageBoard.allSunk(game.cpu);\n      return _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.gameOver;\n    } else if (cpuShot.error) {\n      messageBoard.show(`Error: ${cpuShot.error}`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.error);\n      return _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.error;\n    }\n    return baseDelay;\n  };\n\n  const startBattle = () => {\n    if (battleStarted) return;\n    battleStarted = true;\n\n    attachGameListenersAfterPlayerPlaced();\n\n    const starter = game.onTheMove;\n    messageBoard.show(`${starter.name} starts!`, _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.start);\n\n    if (game.onTheMove === game.cpu) {\n      const baseDelay = _uiConfig_js__WEBPACK_IMPORTED_MODULE_5__.UI_DURATIONS.miss;\n      setTimeout(() => {\n        game.startCpuLoop(baseDelay, cpuLoopCallback);\n      }, 0);\n    }\n  };\n\n  /**\n   * Drag & drop manual placement\n   */\n  const setupFleetDragAndDrop = () => {\n    const grid = document.querySelector('#plr-container .board-container');\n    if (!fleetContainer || !grid) return;\n\n    // Remove previous DnD handlers to avoid duplicate placement on rematch\n    if (grid._dndHandlers) {\n      const { dragover, dragleave, drop } = grid._dndHandlers;\n      grid.removeEventListener('dragover', dragover);\n      grid.removeEventListener('dragleave', dragleave);\n      grid.removeEventListener('drop', drop);\n    }\n\n    // Clear any old preview classes\n    const clearPreviews = () => {\n      grid\n        .querySelectorAll('.cell.preview-ok, .cell.preview-bad')\n        .forEach((cell) => cell.classList.remove('preview-ok', 'preview-bad'));\n    };\n\n    let dragData = null;\n\n    const previewPlacement = (row, col, length, vertical) => {\n      clearPreviews();\n      if (row < 0 || col < 0) return;\n\n      // Detect out-of-bounds segments\n      let outOfBounds = false;\n      for (let i = 0; i < length; i++) {\n        const r = vertical ? row + i : row;\n        const c = vertical ? col : col + i;\n        if (r < 0 || r > 9 || c < 0 || c > 9) {\n          outOfBounds = true;\n          break;\n        }\n      }\n\n      const ship = new _engine_ship_js__WEBPACK_IMPORTED_MODULE_1__.Ship(length, vertical);\n      // canPlaceShip does not treat OOB as invalid, so combine with outOfBounds\n      const canPlaceBase = game.player1.gameboard.canPlaceShip(ship, row, col);\n      const canPlace = !outOfBounds && canPlaceBase;\n\n      for (let i = 0; i < length; i++) {\n        const r = vertical ? row + i : row;\n        const c = vertical ? col : col + i;\n        const cell = grid.querySelector(\n          `.cell[data-x=\"${r}\"][data-y=\"${c}\"]`,\n        );\n        if (cell) cell.classList.add(canPlace ? 'preview-ok' : 'preview-bad');\n      }\n\n      // If any part is out of bounds, mark the anchor cell as bad\n      if (outOfBounds) {\n        const anchorCell = grid.querySelector(\n          `.cell[data-x=\"${row}\"][data-y=\"${col}\"]`,\n        );\n        if (anchorCell) anchorCell.classList.add('preview-bad');\n      }\n    };\n\n    const onAllShipsPlaced = () => {\n      if (fleetContainer.querySelectorAll('.ship').length === 0) {\n        startBattle();\n      }\n    };\n\n    const handleDragover = (e) => {\n      if (!dragData) {\n        try {\n          dragData = JSON.parse(e.dataTransfer.getData('text/plain'));\n        } catch {\n          dragData = null;\n        }\n      }\n      if (!dragData?.length) return;\n      const cell = e.target.closest('.cell');\n      if (!cell) return;\n      e.preventDefault();\n      e.dataTransfer.dropEffect = 'move';\n\n      const row = Number(cell.dataset.x);\n      const col = Number(cell.dataset.y);\n      previewPlacement(\n        row,\n        col,\n        dragData.length,\n        dragData.orientation === 'vertical',\n      );\n    };\n\n    const handleDragleave = (e) => {\n      // Clear previews when leaving the grid entirely\n      if (!grid.contains(e.relatedTarget)) clearPreviews();\n    };\n\n    const handleDrop = (e) => {\n      e.preventDefault();\n      const cell = e.target.closest('.cell');\n      if (!cell) {\n        dragData = null;\n        clearPreviews();\n        return;\n      }\n\n      if (!dragData) {\n        try {\n          dragData = JSON.parse(e.dataTransfer.getData('text/plain'));\n        } catch {\n          dragData = null;\n        }\n      }\n\n      const { length, orientation, idx } = dragData || {};\n      dragData = null;\n      clearPreviews();\n      if (!length) return;\n\n      const row = Number(cell.dataset.x);\n      const col = Number(cell.dataset.y);\n      const vertical = orientation === 'vertical';\n      try {\n        game.player1.gameboard.placeShip(new _engine_ship_js__WEBPACK_IMPORTED_MODULE_1__.Ship(length, vertical), row, col);\n        (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.updateGrid)(game.player1);\n        const placedShipEl = fleetContainer.querySelector(\n          `.ship[data-index=\"${idx}\"]`,\n        );\n        if (placedShipEl) placedShipEl.remove();\n        onAllShipsPlaced();\n      } catch (err) {\n        messageBoard.error(err?.message || 'Cannot place ship here');\n      }\n    };\n\n    grid.addEventListener('dragover', handleDragover);\n    grid.addEventListener('dragleave', handleDragleave);\n    grid.addEventListener('drop', handleDrop);\n    grid._dndHandlers = {\n      dragover: handleDragover,\n      dragleave: handleDragleave,\n      drop: handleDrop,\n    };\n\n    // Make each fleet ship draggable and rotatable\n    const shipEls = fleetContainer.querySelectorAll('.ship');\n    shipEls.forEach((shipEl, idx) => {\n      const length =\n        Number(shipEl.querySelector('p')?.textContent?.trim()) ||\n        Number(shipEl.dataset.length);\n\n      shipEl.dataset.length = length;\n      shipEl.dataset.index = idx;\n      shipEl.dataset.orientation = 'horizontal';\n      shipEl.draggable = true;\n\n      const syncOrientationClass = () => {\n        if (shipEl.dataset.orientation === 'vertical')\n          shipEl.classList.add('vertical');\n        else shipEl.classList.remove('vertical');\n      };\n      syncOrientationClass();\n\n      // Toggle orientation on click\n      shipEl.addEventListener('click', (e) => {\n        e.preventDefault();\n        shipEl.dataset.orientation =\n          shipEl.dataset.orientation === 'vertical' ? 'horizontal' : 'vertical';\n        syncOrientationClass();\n      });\n\n      shipEl.addEventListener('dragstart', (e) => {\n        dragData = {\n          length,\n          orientation: shipEl.dataset.orientation,\n          idx,\n        };\n        e.dataTransfer.setData('text/plain', JSON.stringify(dragData));\n        e.dataTransfer.effectAllowed = 'move';\n        shipEl.classList.add('dragging');\n      });\n\n      shipEl.addEventListener('dragend', () => {\n        shipEl.classList.remove('dragging');\n        clearPreviews();\n        dragData = null;\n      });\n    });\n  };\n\n  const resetPlayerForManualPlacement = () => {\n    (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.resetGrid)(game.player1);\n    if (typeof game.player1.gameboard?.reset === 'function') {\n      game.player1.gameboard.reset();\n    }\n    if (fleetContainer) {\n      fleetContainer.innerHTML = initialFleetMarkup;\n    }\n    battleStarted = false;\n    setupFleetDragAndDrop();\n  };\n\n  // Enable manual placement initially (hidden until placeShips is shown)\n  resetPlayerForManualPlacement();\n\n  document.addEventListener('click', (e) => {\n    const id = e.target?.id;\n\n    if (id === 'place-ships-btn') {\n      // Random placement\n      (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.resetGrid)(game.player1);\n      if (typeof game.player1.gameboard?.reset === 'function') {\n        game.player1.gameboard.reset();\n      }\n      game.player1.randomShipsPlacement();\n      (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.updateGrid)(game.player1);\n      if (fleetContainer) fleetContainer.innerHTML = '';\n      hideFleetContainer();\n      battleStarted = false;\n      startBattle();\n    }\n\n    if (id === 'rematch-btn') {\n      game.resetGame();\n      (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.resetGrid)(game.cpu);\n      (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.resetGrid)(game.player1);\n\n      game.cpu.randomShipsPlacement();\n      (0,_renderBoard__WEBPACK_IMPORTED_MODULE_2__.updateGrid)(game.cpu);\n\n      listenersAttached = false;\n      battleStarted = false;\n      if (fleetContainer) {\n        fleetContainer.innerHTML = initialFleetMarkup;\n      }\n      setupFleetDragAndDrop();\n      messageBoard.placeShips();\n      showFleetContainer();\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvaW5pdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBDO0FBQ0Q7QUFDYTtBQUNOO0FBQ0E7QUFDSDs7QUFFdEM7QUFDUCxtQkFBbUIsa0RBQUk7O0FBRXZCLEVBQUUsdURBQVM7QUFDWCxFQUFFLHVEQUFTOztBQUVYLDJCQUEyQix5REFBWTtBQUN2QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0RBQVk7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsRUFBRSx3REFBVTs7QUFFWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDZEQUFZO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixzREFBWTtBQUNsQzs7QUFFQSxJQUFJLHdEQUFVOztBQUVkO0FBQ0EsMkJBQTJCLGVBQWUsVUFBVSxzREFBWTtBQUNoRSxhQUFhLHNEQUFZO0FBQ3pCLE1BQU07QUFDTiwyQkFBMkIsZUFBZSxpQkFBaUIsc0RBQVk7QUFDdkUsYUFBYSxzREFBWTtBQUN6QixNQUFNO0FBQ047QUFDQSxXQUFXLGVBQWUsWUFBWSxrQkFBa0I7QUFDeEQsUUFBUSxzREFBWTtBQUNwQjtBQUNBLGFBQWEsc0RBQVk7QUFDekIsTUFBTTtBQUNOO0FBQ0EsYUFBYSxzREFBWTtBQUN6QixNQUFNO0FBQ04sa0NBQWtDLGNBQWMsR0FBRyxzREFBWTtBQUMvRCxhQUFhLHNEQUFZO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx5QkFBeUIsY0FBYyxVQUFVLHNEQUFZOztBQUU3RDtBQUNBLHdCQUF3QixzREFBWTtBQUNwQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDRCQUE0QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsaURBQUk7QUFDM0I7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixZQUFZO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixFQUFFLGFBQWEsRUFBRTtBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLElBQUksYUFBYSxJQUFJO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBLGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxpREFBSTtBQUNqRCxRQUFRLHdEQUFVO0FBQ2xCO0FBQ0EsK0JBQStCLElBQUk7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBLElBQUksdURBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLHVEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHdEQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sdURBQVM7QUFDZixNQUFNLHVEQUFTOztBQUVmO0FBQ0EsTUFBTSx3REFBVTs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy91aS9pbml0LmpzP2I1NjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL2VuZ2luZS9nYW1lcGxheSc7XG5pbXBvcnQgeyBTaGlwIH0gZnJvbSAnLi4vZW5naW5lL3NoaXAuanMnO1xuaW1wb3J0IHsgcmVzZXRHcmlkLCB1cGRhdGVHcmlkIH0gZnJvbSAnLi9yZW5kZXJCb2FyZCc7XG5pbXBvcnQgeyBzZXRMaXN0ZW5lcnMgfSBmcm9tICcuL2V2ZW50TGlzdGVuZXJzJztcbmltcG9ydCB7IE1lc3NhZ2VCb2FyZCB9IGZyb20gJy4vaW5mb0Rpc3BsYXkuanMnO1xuaW1wb3J0IHsgVUlfRFVSQVRJT05TIH0gZnJvbSAnLi91aUNvbmZpZy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBjb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcblxuICByZXNldEdyaWQoZ2FtZS5jcHUpO1xuICByZXNldEdyaWQoZ2FtZS5wbGF5ZXIxKTtcblxuICBjb25zdCBtZXNzYWdlQm9hcmQgPSBuZXcgTWVzc2FnZUJvYXJkKFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvLWNvbnRhaW5lcicpLFxuICApO1xuXG4gIGNvbnN0IGZsZWV0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZsZWV0LWNvbnRhaW5lcicpO1xuICBjb25zdCBpbml0aWFsRmxlZXRNYXJrdXAgPSBmbGVldENvbnRhaW5lcj8uaW5uZXJIVE1MIHx8ICcnO1xuXG4gIGNvbnN0IGhpZGVGbGVldENvbnRhaW5lciA9ICgpID0+IHtcbiAgICBpZiAoZmxlZXRDb250YWluZXIpIGZsZWV0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZWV0LWhpZGRlbicpO1xuICB9O1xuICBjb25zdCBzaG93RmxlZXRDb250YWluZXIgPSAoKSA9PiB7XG4gICAgaWYgKGZsZWV0Q29udGFpbmVyKSBmbGVldENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmbGVldC1oaWRkZW4nKTtcbiAgfTtcblxuICAvLyBIaWRlIGZsZWV0IHVudGlsIHBsYWNlU2hpcHMgcHJvbXB0IGFwcGVhcnNcbiAgaGlkZUZsZWV0Q29udGFpbmVyKCk7XG5cbiAgLy8gU2hvdyB3ZWxjb21lIGZpcnN0XG4gIG1lc3NhZ2VCb2FyZC53ZWxjb21lKCk7XG5cbiAgLy8gU2NoZWR1bGUgcGxhY2VTaGlwcyBhZnRlciB3ZWxjb21lIGZpbmlzaGVzXG4gIGNvbnN0IHNtYWxsR2FwID0gMjAwO1xuICBjb25zdCB3ZWxjb21lRGVsYXkgPVxuICAgIChtZXNzYWdlQm9hcmQuc2hvd0RlbGF5IHx8IDApICsgKFVJX0RVUkFUSU9OUy5zdGFydCB8fCAwKSArIHNtYWxsR2FwO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBtZXNzYWdlQm9hcmQucGxhY2VTaGlwcygpO1xuICAgIHNob3dGbGVldENvbnRhaW5lcigpO1xuICB9LCB3ZWxjb21lRGVsYXkpO1xuXG4gIC8vIENQVSBwbGFjZXMgc2hpcHMgaW1tZWRpYXRlbHlcbiAgZ2FtZS5jcHUucmFuZG9tU2hpcHNQbGFjZW1lbnQoKTtcbiAgdXBkYXRlR3JpZChnYW1lLmNwdSk7XG5cbiAgbGV0IGxpc3RlbmVyc0F0dGFjaGVkID0gZmFsc2U7XG4gIGxldCBiYXR0bGVTdGFydGVkID0gZmFsc2U7XG5cbiAgY29uc3QgYXR0YWNoR2FtZUxpc3RlbmVyc0FmdGVyUGxheWVyUGxhY2VkID0gKCkgPT4ge1xuICAgIGlmICghbGlzdGVuZXJzQXR0YWNoZWQpIHtcbiAgICAgIHNldExpc3RlbmVycyhnYW1lLCBtZXNzYWdlQm9hcmQpO1xuICAgICAgbGlzdGVuZXJzQXR0YWNoZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjcHVMb29wQ2FsbGJhY2sgPSAoY3B1U2hvdCkgPT4ge1xuICAgIGNvbnN0IGJhc2VEZWxheSA9IFVJX0RVUkFUSU9OUy5taXNzO1xuICAgIGlmICghY3B1U2hvdCkgcmV0dXJuIGJhc2VEZWxheTtcblxuICAgIHVwZGF0ZUdyaWQoZ2FtZS5wbGF5ZXIxKTtcblxuICAgIGlmIChjcHVTaG90LnJlc3VsdCA9PT0gJ21pc3MnKSB7XG4gICAgICBtZXNzYWdlQm9hcmQuc2hvdyhgJHtnYW1lLmNwdS5uYW1lfSBtaXNzZWQhYCwgVUlfRFVSQVRJT05TLm1pc3MpO1xuICAgICAgcmV0dXJuIFVJX0RVUkFUSU9OUy5taXNzO1xuICAgIH0gZWxzZSBpZiAoY3B1U2hvdC5yZXN1bHQgPT09ICdoaXQnKSB7XG4gICAgICBtZXNzYWdlQm9hcmQuc2hvdyhgJHtnYW1lLmNwdS5uYW1lfSBoaXQgeW91ciBzaGlwIWAsIFVJX0RVUkFUSU9OUy5oaXQpO1xuICAgICAgcmV0dXJuIFVJX0RVUkFUSU9OUy5oaXQ7XG4gICAgfSBlbHNlIGlmIChjcHVTaG90LnJlc3VsdCA9PT0gJ3N1bmsnKSB7XG4gICAgICBtZXNzYWdlQm9hcmQuc2hvdyhcbiAgICAgICAgYCR7Z2FtZS5jcHUubmFtZX0gc3VuayB5b3VyICR7Y3B1U2hvdC5zaGlwLnR5cGV9IWAsXG4gICAgICAgIFVJX0RVUkFUSU9OUy5zdW5rLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBVSV9EVVJBVElPTlMuc3VuaztcbiAgICB9IGVsc2UgaWYgKGNwdVNob3QuZ2FtZVJlc3VsdCkge1xuICAgICAgbWVzc2FnZUJvYXJkLmFsbFN1bmsoZ2FtZS5jcHUpO1xuICAgICAgcmV0dXJuIFVJX0RVUkFUSU9OUy5nYW1lT3ZlcjtcbiAgICB9IGVsc2UgaWYgKGNwdVNob3QuZXJyb3IpIHtcbiAgICAgIG1lc3NhZ2VCb2FyZC5zaG93KGBFcnJvcjogJHtjcHVTaG90LmVycm9yfWAsIFVJX0RVUkFUSU9OUy5lcnJvcik7XG4gICAgICByZXR1cm4gVUlfRFVSQVRJT05TLmVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZURlbGF5O1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0QmF0dGxlID0gKCkgPT4ge1xuICAgIGlmIChiYXR0bGVTdGFydGVkKSByZXR1cm47XG4gICAgYmF0dGxlU3RhcnRlZCA9IHRydWU7XG5cbiAgICBhdHRhY2hHYW1lTGlzdGVuZXJzQWZ0ZXJQbGF5ZXJQbGFjZWQoKTtcblxuICAgIGNvbnN0IHN0YXJ0ZXIgPSBnYW1lLm9uVGhlTW92ZTtcbiAgICBtZXNzYWdlQm9hcmQuc2hvdyhgJHtzdGFydGVyLm5hbWV9IHN0YXJ0cyFgLCBVSV9EVVJBVElPTlMuc3RhcnQpO1xuXG4gICAgaWYgKGdhbWUub25UaGVNb3ZlID09PSBnYW1lLmNwdSkge1xuICAgICAgY29uc3QgYmFzZURlbGF5ID0gVUlfRFVSQVRJT05TLm1pc3M7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZ2FtZS5zdGFydENwdUxvb3AoYmFzZURlbGF5LCBjcHVMb29wQ2FsbGJhY2spO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEcmFnICYgZHJvcCBtYW51YWwgcGxhY2VtZW50XG4gICAqL1xuICBjb25zdCBzZXR1cEZsZWV0RHJhZ0FuZERyb3AgPSAoKSA9PiB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbHItY29udGFpbmVyIC5ib2FyZC1jb250YWluZXInKTtcbiAgICBpZiAoIWZsZWV0Q29udGFpbmVyIHx8ICFncmlkKSByZXR1cm47XG5cbiAgICAvLyBSZW1vdmUgcHJldmlvdXMgRG5EIGhhbmRsZXJzIHRvIGF2b2lkIGR1cGxpY2F0ZSBwbGFjZW1lbnQgb24gcmVtYXRjaFxuICAgIGlmIChncmlkLl9kbmRIYW5kbGVycykge1xuICAgICAgY29uc3QgeyBkcmFnb3ZlciwgZHJhZ2xlYXZlLCBkcm9wIH0gPSBncmlkLl9kbmRIYW5kbGVycztcbiAgICAgIGdyaWQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBkcmFnb3Zlcik7XG4gICAgICBncmlkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdsZWF2ZSk7XG4gICAgICBncmlkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBkcm9wKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBhbnkgb2xkIHByZXZpZXcgY2xhc3Nlc1xuICAgIGNvbnN0IGNsZWFyUHJldmlld3MgPSAoKSA9PiB7XG4gICAgICBncmlkXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbC5wcmV2aWV3LW9rLCAuY2VsbC5wcmV2aWV3LWJhZCcpXG4gICAgICAgIC5mb3JFYWNoKChjZWxsKSA9PiBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZXZpZXctb2snLCAncHJldmlldy1iYWQnKSk7XG4gICAgfTtcblxuICAgIGxldCBkcmFnRGF0YSA9IG51bGw7XG5cbiAgICBjb25zdCBwcmV2aWV3UGxhY2VtZW50ID0gKHJvdywgY29sLCBsZW5ndGgsIHZlcnRpY2FsKSA9PiB7XG4gICAgICBjbGVhclByZXZpZXdzKCk7XG4gICAgICBpZiAocm93IDwgMCB8fCBjb2wgPCAwKSByZXR1cm47XG5cbiAgICAgIC8vIERldGVjdCBvdXQtb2YtYm91bmRzIHNlZ21lbnRzXG4gICAgICBsZXQgb3V0T2ZCb3VuZHMgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgciA9IHZlcnRpY2FsID8gcm93ICsgaSA6IHJvdztcbiAgICAgICAgY29uc3QgYyA9IHZlcnRpY2FsID8gY29sIDogY29sICsgaTtcbiAgICAgICAgaWYgKHIgPCAwIHx8IHIgPiA5IHx8IGMgPCAwIHx8IGMgPiA5KSB7XG4gICAgICAgICAgb3V0T2ZCb3VuZHMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNoaXAgPSBuZXcgU2hpcChsZW5ndGgsIHZlcnRpY2FsKTtcbiAgICAgIC8vIGNhblBsYWNlU2hpcCBkb2VzIG5vdCB0cmVhdCBPT0IgYXMgaW52YWxpZCwgc28gY29tYmluZSB3aXRoIG91dE9mQm91bmRzXG4gICAgICBjb25zdCBjYW5QbGFjZUJhc2UgPSBnYW1lLnBsYXllcjEuZ2FtZWJvYXJkLmNhblBsYWNlU2hpcChzaGlwLCByb3csIGNvbCk7XG4gICAgICBjb25zdCBjYW5QbGFjZSA9ICFvdXRPZkJvdW5kcyAmJiBjYW5QbGFjZUJhc2U7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgciA9IHZlcnRpY2FsID8gcm93ICsgaSA6IHJvdztcbiAgICAgICAgY29uc3QgYyA9IHZlcnRpY2FsID8gY29sIDogY29sICsgaTtcbiAgICAgICAgY29uc3QgY2VsbCA9IGdyaWQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBgLmNlbGxbZGF0YS14PVwiJHtyfVwiXVtkYXRhLXk9XCIke2N9XCJdYCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNlbGwpIGNlbGwuY2xhc3NMaXN0LmFkZChjYW5QbGFjZSA/ICdwcmV2aWV3LW9rJyA6ICdwcmV2aWV3LWJhZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhbnkgcGFydCBpcyBvdXQgb2YgYm91bmRzLCBtYXJrIHRoZSBhbmNob3IgY2VsbCBhcyBiYWRcbiAgICAgIGlmIChvdXRPZkJvdW5kcykge1xuICAgICAgICBjb25zdCBhbmNob3JDZWxsID0gZ3JpZC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGAuY2VsbFtkYXRhLXg9XCIke3Jvd31cIl1bZGF0YS15PVwiJHtjb2x9XCJdYCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGFuY2hvckNlbGwpIGFuY2hvckNlbGwuY2xhc3NMaXN0LmFkZCgncHJldmlldy1iYWQnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb25BbGxTaGlwc1BsYWNlZCA9ICgpID0+IHtcbiAgICAgIGlmIChmbGVldENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2hpcCcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzdGFydEJhdHRsZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVEcmFnb3ZlciA9IChlKSA9PiB7XG4gICAgICBpZiAoIWRyYWdEYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZHJhZ0RhdGEgPSBKU09OLnBhcnNlKGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIGRyYWdEYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFkcmFnRGF0YT8ubGVuZ3RoKSByZXR1cm47XG4gICAgICBjb25zdCBjZWxsID0gZS50YXJnZXQuY2xvc2VzdCgnLmNlbGwnKTtcbiAgICAgIGlmICghY2VsbCkgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcblxuICAgICAgY29uc3Qgcm93ID0gTnVtYmVyKGNlbGwuZGF0YXNldC54KTtcbiAgICAgIGNvbnN0IGNvbCA9IE51bWJlcihjZWxsLmRhdGFzZXQueSk7XG4gICAgICBwcmV2aWV3UGxhY2VtZW50KFxuICAgICAgICByb3csXG4gICAgICAgIGNvbCxcbiAgICAgICAgZHJhZ0RhdGEubGVuZ3RoLFxuICAgICAgICBkcmFnRGF0YS5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyxcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURyYWdsZWF2ZSA9IChlKSA9PiB7XG4gICAgICAvLyBDbGVhciBwcmV2aWV3cyB3aGVuIGxlYXZpbmcgdGhlIGdyaWQgZW50aXJlbHlcbiAgICAgIGlmICghZ3JpZC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSBjbGVhclByZXZpZXdzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZURyb3AgPSAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgY2VsbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5jZWxsJyk7XG4gICAgICBpZiAoIWNlbGwpIHtcbiAgICAgICAgZHJhZ0RhdGEgPSBudWxsO1xuICAgICAgICBjbGVhclByZXZpZXdzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkcmFnRGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRyYWdEYXRhID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBkcmFnRGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBsZW5ndGgsIG9yaWVudGF0aW9uLCBpZHggfSA9IGRyYWdEYXRhIHx8IHt9O1xuICAgICAgZHJhZ0RhdGEgPSBudWxsO1xuICAgICAgY2xlYXJQcmV2aWV3cygpO1xuICAgICAgaWYgKCFsZW5ndGgpIHJldHVybjtcblxuICAgICAgY29uc3Qgcm93ID0gTnVtYmVyKGNlbGwuZGF0YXNldC54KTtcbiAgICAgIGNvbnN0IGNvbCA9IE51bWJlcihjZWxsLmRhdGFzZXQueSk7XG4gICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9yaWVudGF0aW9uID09PSAndmVydGljYWwnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZ2FtZS5wbGF5ZXIxLmdhbWVib2FyZC5wbGFjZVNoaXAobmV3IFNoaXAobGVuZ3RoLCB2ZXJ0aWNhbCksIHJvdywgY29sKTtcbiAgICAgICAgdXBkYXRlR3JpZChnYW1lLnBsYXllcjEpO1xuICAgICAgICBjb25zdCBwbGFjZWRTaGlwRWwgPSBmbGVldENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGAuc2hpcFtkYXRhLWluZGV4PVwiJHtpZHh9XCJdYCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBsYWNlZFNoaXBFbCkgcGxhY2VkU2hpcEVsLnJlbW92ZSgpO1xuICAgICAgICBvbkFsbFNoaXBzUGxhY2VkKCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbWVzc2FnZUJvYXJkLmVycm9yKGVycj8ubWVzc2FnZSB8fCAnQ2Fubm90IHBsYWNlIHNoaXAgaGVyZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBncmlkLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlRHJhZ292ZXIpO1xuICAgIGdyaWQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgaGFuZGxlRHJhZ2xlYXZlKTtcbiAgICBncmlkLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wKTtcbiAgICBncmlkLl9kbmRIYW5kbGVycyA9IHtcbiAgICAgIGRyYWdvdmVyOiBoYW5kbGVEcmFnb3ZlcixcbiAgICAgIGRyYWdsZWF2ZTogaGFuZGxlRHJhZ2xlYXZlLFxuICAgICAgZHJvcDogaGFuZGxlRHJvcCxcbiAgICB9O1xuXG4gICAgLy8gTWFrZSBlYWNoIGZsZWV0IHNoaXAgZHJhZ2dhYmxlIGFuZCByb3RhdGFibGVcbiAgICBjb25zdCBzaGlwRWxzID0gZmxlZXRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnNoaXAnKTtcbiAgICBzaGlwRWxzLmZvckVhY2goKHNoaXBFbCwgaWR4KSA9PiB7XG4gICAgICBjb25zdCBsZW5ndGggPVxuICAgICAgICBOdW1iZXIoc2hpcEVsLnF1ZXJ5U2VsZWN0b3IoJ3AnKT8udGV4dENvbnRlbnQ/LnRyaW0oKSkgfHxcbiAgICAgICAgTnVtYmVyKHNoaXBFbC5kYXRhc2V0Lmxlbmd0aCk7XG5cbiAgICAgIHNoaXBFbC5kYXRhc2V0Lmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgIHNoaXBFbC5kYXRhc2V0LmluZGV4ID0gaWR4O1xuICAgICAgc2hpcEVsLmRhdGFzZXQub3JpZW50YXRpb24gPSAnaG9yaXpvbnRhbCc7XG4gICAgICBzaGlwRWwuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuICAgICAgY29uc3Qgc3luY09yaWVudGF0aW9uQ2xhc3MgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzaGlwRWwuZGF0YXNldC5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJylcbiAgICAgICAgICBzaGlwRWwuY2xhc3NMaXN0LmFkZCgndmVydGljYWwnKTtcbiAgICAgICAgZWxzZSBzaGlwRWwuY2xhc3NMaXN0LnJlbW92ZSgndmVydGljYWwnKTtcbiAgICAgIH07XG4gICAgICBzeW5jT3JpZW50YXRpb25DbGFzcygpO1xuXG4gICAgICAvLyBUb2dnbGUgb3JpZW50YXRpb24gb24gY2xpY2tcbiAgICAgIHNoaXBFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2hpcEVsLmRhdGFzZXQub3JpZW50YXRpb24gPVxuICAgICAgICAgIHNoaXBFbC5kYXRhc2V0Lm9yaWVudGF0aW9uID09PSAndmVydGljYWwnID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcbiAgICAgICAgc3luY09yaWVudGF0aW9uQ2xhc3MoKTtcbiAgICAgIH0pO1xuXG4gICAgICBzaGlwRWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgKGUpID0+IHtcbiAgICAgICAgZHJhZ0RhdGEgPSB7XG4gICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgIG9yaWVudGF0aW9uOiBzaGlwRWwuZGF0YXNldC5vcmllbnRhdGlvbixcbiAgICAgICAgICBpZHgsXG4gICAgICAgIH07XG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLCBKU09OLnN0cmluZ2lmeShkcmFnRGF0YSkpO1xuICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgICBzaGlwRWwuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKTtcbiAgICAgIH0pO1xuXG4gICAgICBzaGlwRWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgc2hpcEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XG4gICAgICAgIGNsZWFyUHJldmlld3MoKTtcbiAgICAgICAgZHJhZ0RhdGEgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcmVzZXRQbGF5ZXJGb3JNYW51YWxQbGFjZW1lbnQgPSAoKSA9PiB7XG4gICAgcmVzZXRHcmlkKGdhbWUucGxheWVyMSk7XG4gICAgaWYgKHR5cGVvZiBnYW1lLnBsYXllcjEuZ2FtZWJvYXJkPy5yZXNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZ2FtZS5wbGF5ZXIxLmdhbWVib2FyZC5yZXNldCgpO1xuICAgIH1cbiAgICBpZiAoZmxlZXRDb250YWluZXIpIHtcbiAgICAgIGZsZWV0Q29udGFpbmVyLmlubmVySFRNTCA9IGluaXRpYWxGbGVldE1hcmt1cDtcbiAgICB9XG4gICAgYmF0dGxlU3RhcnRlZCA9IGZhbHNlO1xuICAgIHNldHVwRmxlZXREcmFnQW5kRHJvcCgpO1xuICB9O1xuXG4gIC8vIEVuYWJsZSBtYW51YWwgcGxhY2VtZW50IGluaXRpYWxseSAoaGlkZGVuIHVudGlsIHBsYWNlU2hpcHMgaXMgc2hvd24pXG4gIHJlc2V0UGxheWVyRm9yTWFudWFsUGxhY2VtZW50KCk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IGlkID0gZS50YXJnZXQ/LmlkO1xuXG4gICAgaWYgKGlkID09PSAncGxhY2Utc2hpcHMtYnRuJykge1xuICAgICAgLy8gUmFuZG9tIHBsYWNlbWVudFxuICAgICAgcmVzZXRHcmlkKGdhbWUucGxheWVyMSk7XG4gICAgICBpZiAodHlwZW9mIGdhbWUucGxheWVyMS5nYW1lYm9hcmQ/LnJlc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGdhbWUucGxheWVyMS5nYW1lYm9hcmQucmVzZXQoKTtcbiAgICAgIH1cbiAgICAgIGdhbWUucGxheWVyMS5yYW5kb21TaGlwc1BsYWNlbWVudCgpO1xuICAgICAgdXBkYXRlR3JpZChnYW1lLnBsYXllcjEpO1xuICAgICAgaWYgKGZsZWV0Q29udGFpbmVyKSBmbGVldENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIGhpZGVGbGVldENvbnRhaW5lcigpO1xuICAgICAgYmF0dGxlU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgc3RhcnRCYXR0bGUoKTtcbiAgICB9XG5cbiAgICBpZiAoaWQgPT09ICdyZW1hdGNoLWJ0bicpIHtcbiAgICAgIGdhbWUucmVzZXRHYW1lKCk7XG4gICAgICByZXNldEdyaWQoZ2FtZS5jcHUpO1xuICAgICAgcmVzZXRHcmlkKGdhbWUucGxheWVyMSk7XG5cbiAgICAgIGdhbWUuY3B1LnJhbmRvbVNoaXBzUGxhY2VtZW50KCk7XG4gICAgICB1cGRhdGVHcmlkKGdhbWUuY3B1KTtcblxuICAgICAgbGlzdGVuZXJzQXR0YWNoZWQgPSBmYWxzZTtcbiAgICAgIGJhdHRsZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChmbGVldENvbnRhaW5lcikge1xuICAgICAgICBmbGVldENvbnRhaW5lci5pbm5lckhUTUwgPSBpbml0aWFsRmxlZXRNYXJrdXA7XG4gICAgICB9XG4gICAgICBzZXR1cEZsZWV0RHJhZ0FuZERyb3AoKTtcbiAgICAgIG1lc3NhZ2VCb2FyZC5wbGFjZVNoaXBzKCk7XG4gICAgICBzaG93RmxlZXRDb250YWluZXIoKTtcbiAgICB9XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/init.js\n\n}");

/***/ },

/***/ "./src/ui/renderBoard.js"
/*!*******************************!*\
  !*** ./src/ui/renderBoard.js ***!
  \*******************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetGrid: () => (/* binding */ resetGrid),\n/* harmony export */   updateGrid: () => (/* binding */ updateGrid)\n/* harmony export */ });\n/* harmony import */ var _engine_ship__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/ship */ \"./src/engine/ship.js\");\n\n\nfunction resetGrid(player) {\n  // Get board container for specified player\n  const containerId =\n    player.name === 'Player 1' ? 'plr-container' : 'cpu-container';\n  const grid = document.querySelector(`#${containerId} .board-container`);\n  grid.innerHTML = '';\n  for (let x = 0; x < 10; x++) {\n    for (let y = 0; y < 10; y++) {\n      const cell = document.createElement('div');\n      cell.classList.add('cell');\n      cell.dataset.x = x;\n      cell.dataset.y = y;\n      grid.appendChild(cell);\n    }\n  }\n}\n\nfunction updateGrid(player) {\n  const arr = player.gameboard.grid;\n  const sunkCells = player.gameboard?.sunkCells || new Set();\n\n  const containerId =\n    player.name === 'Player 1' ? 'plr-container' : 'cpu-container';\n  const cells = document.querySelectorAll(\n    `#${containerId} .board-container .cell`,\n  );\n\n  cells.forEach((cell) => {\n    const x = Number(cell.dataset.x);\n    const y = Number(cell.dataset.y);\n    const isSunkCell = sunkCells.has(`${x},${y}`) || arr[x][y] === 'sunk';\n\n    cell.className = 'cell'; // reset\n    cell.innerHTML = '';\n\n    if (arr[x][y] === 'miss') {\n      cell.classList.add('miss', 'inactive');\n    } else if (arr[x][y] === 'hit') {\n      cell.innerHTML = hitSvg;\n      cell.classList.add('hit', 'inactive');\n      if (isSunkCell) cell.classList.add('sunk');\n    } else if (arr[x][y] === 'sunk') {\n      cell.innerHTML = hitSvg;\n      cell.classList.add('hit', 'inactive', 'sunk');\n    } else if (arr[x][y] instanceof _engine_ship__WEBPACK_IMPORTED_MODULE_0__.Ship && player.name === 'Player 1') {\n      // Show player 1's own ships on board\n      cell.innerHTML = shipSvg;\n      cell.classList.add('ship');\n      if (isSunkCell) cell.classList.add('sunk');\n    }\n  });\n}\n\nconst shipSvg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M3 13.5L11 2.03V13.5H3M12.5 13.5C13.85 9.75 13.67 4.71 12.5 1C17.26 2.54 20.9 8.4 20.96 13.5H12.5M21.1 17.08C20.69 17.72 20.21 18.27 19.65 18.74C19 18.45 18.42 18 17.96 17.5C16.47 19.43 13.46 19.43 11.97 17.5C10.5 19.43 7.47 19.43 6 17.5C5.5 18 4.95 18.45 4.3 18.74C3.16 17.8 2.3 16.46 2 15H21.94C21.78 15.75 21.5 16.44 21.1 17.08M20.96 23C19.9 23 18.9 22.75 17.96 22.25C16.12 23.25 13.81 23.25 11.97 22.25C10.13 23.25 7.82 23.25 6 22.25C4.77 22.94 3.36 23.05 2 23V21C3.41 21.05 4.77 20.9 6 20C7.74 21.25 10.21 21.25 11.97 20C13.74 21.25 16.2 21.25 17.96 20C19.17 20.9 20.54 21.05 21.94 21V23H20.96Z\" /></svg>`;\nconst hitSvg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M20.96 21C19.9 21 18.9 20.74 17.96 20.24C16.12 21.24 13.81 21.24 11.97 20.24C10.13 21.24 7.82 21.24 6 20.24C4.77 20.93 3.36 21.04 2 21V19C3.41 19.04 4.77 18.89 6 18C7.74 19.24 10.21 19.24 11.97 18C13.74 19.24 16.2 19.24 17.96 18C19.17 18.89 20.54 19.04 21.94 19V21H20.96M22 3.5L7.11 5.96L13.11 12.17L22 3.5M10.81 16.36L11.97 15.54L13.12 16.36C13.65 16.72 14.3 16.93 14.97 16.93C15.12 16.93 15.28 16.91 15.43 16.89L5.2 6.31C4.29 7.65 3.9 9.32 4 10.92L9.74 16.83C10.13 16.74 10.5 16.58 10.81 16.36Z\" /></svg>`;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvcmVuZGVyQm9hcmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxhQUFhO0FBQ3ZEO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUIsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxhQUFhO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxFQUFFLEdBQUcsRUFBRTs7QUFFL0MsNkJBQTZCO0FBQzdCOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNLDhCQUE4Qiw4Q0FBSTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy91aS9yZW5kZXJCb2FyZC5qcz85ZTZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNoaXAgfSBmcm9tICcuLi9lbmdpbmUvc2hpcCc7XG5cbmZ1bmN0aW9uIHJlc2V0R3JpZChwbGF5ZXIpIHtcbiAgLy8gR2V0IGJvYXJkIGNvbnRhaW5lciBmb3Igc3BlY2lmaWVkIHBsYXllclxuICBjb25zdCBjb250YWluZXJJZCA9XG4gICAgcGxheWVyLm5hbWUgPT09ICdQbGF5ZXIgMScgPyAncGxyLWNvbnRhaW5lcicgOiAnY3B1LWNvbnRhaW5lcic7XG4gIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtjb250YWluZXJJZH0gLmJvYXJkLWNvbnRhaW5lcmApO1xuICBncmlkLmlubmVySFRNTCA9ICcnO1xuICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspIHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDEwOyB5KyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbCcpO1xuICAgICAgY2VsbC5kYXRhc2V0LnggPSB4O1xuICAgICAgY2VsbC5kYXRhc2V0LnkgPSB5O1xuICAgICAgZ3JpZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlR3JpZChwbGF5ZXIpIHtcbiAgY29uc3QgYXJyID0gcGxheWVyLmdhbWVib2FyZC5ncmlkO1xuICBjb25zdCBzdW5rQ2VsbHMgPSBwbGF5ZXIuZ2FtZWJvYXJkPy5zdW5rQ2VsbHMgfHwgbmV3IFNldCgpO1xuXG4gIGNvbnN0IGNvbnRhaW5lcklkID1cbiAgICBwbGF5ZXIubmFtZSA9PT0gJ1BsYXllciAxJyA/ICdwbHItY29udGFpbmVyJyA6ICdjcHUtY29udGFpbmVyJztcbiAgY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgIGAjJHtjb250YWluZXJJZH0gLmJvYXJkLWNvbnRhaW5lciAuY2VsbGAsXG4gICk7XG5cbiAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xuICAgIGNvbnN0IHggPSBOdW1iZXIoY2VsbC5kYXRhc2V0LngpO1xuICAgIGNvbnN0IHkgPSBOdW1iZXIoY2VsbC5kYXRhc2V0LnkpO1xuICAgIGNvbnN0IGlzU3Vua0NlbGwgPSBzdW5rQ2VsbHMuaGFzKGAke3h9LCR7eX1gKSB8fCBhcnJbeF1beV0gPT09ICdzdW5rJztcblxuICAgIGNlbGwuY2xhc3NOYW1lID0gJ2NlbGwnOyAvLyByZXNldFxuICAgIGNlbGwuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBpZiAoYXJyW3hdW3ldID09PSAnbWlzcycpIHtcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnbWlzcycsICdpbmFjdGl2ZScpO1xuICAgIH0gZWxzZSBpZiAoYXJyW3hdW3ldID09PSAnaGl0Jykge1xuICAgICAgY2VsbC5pbm5lckhUTUwgPSBoaXRTdmc7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2hpdCcsICdpbmFjdGl2ZScpO1xuICAgICAgaWYgKGlzU3Vua0NlbGwpIGNlbGwuY2xhc3NMaXN0LmFkZCgnc3VuaycpO1xuICAgIH0gZWxzZSBpZiAoYXJyW3hdW3ldID09PSAnc3VuaycpIHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gaGl0U3ZnO1xuICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdoaXQnLCAnaW5hY3RpdmUnLCAnc3VuaycpO1xuICAgIH0gZWxzZSBpZiAoYXJyW3hdW3ldIGluc3RhbmNlb2YgU2hpcCAmJiBwbGF5ZXIubmFtZSA9PT0gJ1BsYXllciAxJykge1xuICAgICAgLy8gU2hvdyBwbGF5ZXIgMSdzIG93biBzaGlwcyBvbiBib2FyZFxuICAgICAgY2VsbC5pbm5lckhUTUwgPSBzaGlwU3ZnO1xuICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XG4gICAgICBpZiAoaXNTdW5rQ2VsbCkgY2VsbC5jbGFzc0xpc3QuYWRkKCdzdW5rJyk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgc2hpcFN2ZyA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0zIDEzLjVMMTEgMi4wM1YxMy41SDNNMTIuNSAxMy41QzEzLjg1IDkuNzUgMTMuNjcgNC43MSAxMi41IDFDMTcuMjYgMi41NCAyMC45IDguNCAyMC45NiAxMy41SDEyLjVNMjEuMSAxNy4wOEMyMC42OSAxNy43MiAyMC4yMSAxOC4yNyAxOS42NSAxOC43NEMxOSAxOC40NSAxOC40MiAxOCAxNy45NiAxNy41QzE2LjQ3IDE5LjQzIDEzLjQ2IDE5LjQzIDExLjk3IDE3LjVDMTAuNSAxOS40MyA3LjQ3IDE5LjQzIDYgMTcuNUM1LjUgMTggNC45NSAxOC40NSA0LjMgMTguNzRDMy4xNiAxNy44IDIuMyAxNi40NiAyIDE1SDIxLjk0QzIxLjc4IDE1Ljc1IDIxLjUgMTYuNDQgMjEuMSAxNy4wOE0yMC45NiAyM0MxOS45IDIzIDE4LjkgMjIuNzUgMTcuOTYgMjIuMjVDMTYuMTIgMjMuMjUgMTMuODEgMjMuMjUgMTEuOTcgMjIuMjVDMTAuMTMgMjMuMjUgNy44MiAyMy4yNSA2IDIyLjI1QzQuNzcgMjIuOTQgMy4zNiAyMy4wNSAyIDIzVjIxQzMuNDEgMjEuMDUgNC43NyAyMC45IDYgMjBDNy43NCAyMS4yNSAxMC4yMSAyMS4yNSAxMS45NyAyMEMxMy43NCAyMS4yNSAxNi4yIDIxLjI1IDE3Ljk2IDIwQzE5LjE3IDIwLjkgMjAuNTQgMjEuMDUgMjEuOTQgMjFWMjNIMjAuOTZaXCIgLz48L3N2Zz5gO1xuY29uc3QgaGl0U3ZnID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTIwLjk2IDIxQzE5LjkgMjEgMTguOSAyMC43NCAxNy45NiAyMC4yNEMxNi4xMiAyMS4yNCAxMy44MSAyMS4yNCAxMS45NyAyMC4yNEMxMC4xMyAyMS4yNCA3LjgyIDIxLjI0IDYgMjAuMjRDNC43NyAyMC45MyAzLjM2IDIxLjA0IDIgMjFWMTlDMy40MSAxOS4wNCA0Ljc3IDE4Ljg5IDYgMThDNy43NCAxOS4yNCAxMC4yMSAxOS4yNCAxMS45NyAxOEMxMy43NCAxOS4yNCAxNi4yIDE5LjI0IDE3Ljk2IDE4QzE5LjE3IDE4Ljg5IDIwLjU0IDE5LjA0IDIxLjk0IDE5VjIxSDIwLjk2TTIyIDMuNUw3LjExIDUuOTZMMTMuMTEgMTIuMTdMMjIgMy41TTEwLjgxIDE2LjM2TDExLjk3IDE1LjU0TDEzLjEyIDE2LjM2QzEzLjY1IDE2LjcyIDE0LjMgMTYuOTMgMTQuOTcgMTYuOTNDMTUuMTIgMTYuOTMgMTUuMjggMTYuOTEgMTUuNDMgMTYuODlMNS4yIDYuMzFDNC4yOSA3LjY1IDMuOSA5LjMyIDQgMTAuOTJMOS43NCAxNi44M0MxMC4xMyAxNi43NCAxMC41IDE2LjU4IDEwLjgxIDE2LjM2WlwiIC8+PC9zdmc+YDtcblxuZXhwb3J0IHsgcmVzZXRHcmlkLCB1cGRhdGVHcmlkIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/ui/renderBoard.js\n\n}");

/***/ },

/***/ "./src/ui/uiConfig.js"
/*!****************************!*\
  !*** ./src/ui/uiConfig.js ***!
  \****************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UI_DURATIONS: () => (/* binding */ UI_DURATIONS)\n/* harmony export */ });\nconst UI_DURATIONS = {\n  miss: 500, // typical miss message duration and base CPU delay\n  hit: 1000, // hit message\n  sunk: 1500, // sunk message\n  start: 1000, // \"X starts!\" message\n  gameOver: null, // full game over message (rematch button visible)\n  error: 1000, // error messages\n  placeShips: null, // prompt to place ships\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvdWlDb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvdWkvdWlDb25maWcuanM/Yzg4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVUlfRFVSQVRJT05TID0ge1xuICBtaXNzOiA1MDAsIC8vIHR5cGljYWwgbWlzcyBtZXNzYWdlIGR1cmF0aW9uIGFuZCBiYXNlIENQVSBkZWxheVxuICBoaXQ6IDEwMDAsIC8vIGhpdCBtZXNzYWdlXG4gIHN1bms6IDE1MDAsIC8vIHN1bmsgbWVzc2FnZVxuICBzdGFydDogMTAwMCwgLy8gXCJYIHN0YXJ0cyFcIiBtZXNzYWdlXG4gIGdhbWVPdmVyOiBudWxsLCAvLyBmdWxsIGdhbWUgb3ZlciBtZXNzYWdlIChyZW1hdGNoIGJ1dHRvbiB2aXNpYmxlKVxuICBlcnJvcjogMTAwMCwgLy8gZXJyb3IgbWVzc2FnZXNcbiAgcGxhY2VTaGlwczogbnVsbCwgLy8gcHJvbXB0IHRvIHBsYWNlIHNoaXBzXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/ui/uiConfig.js\n\n}");

/***/ }

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Check if module exists (development only)
/******/ 		if (__webpack_modules__[moduleId] === undefined) {
/******/ 			var e = new Error("Cannot find module '" + moduleId + "'");
/******/ 			e.code = 'MODULE_NOT_FOUND';
/******/ 			throw e;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;